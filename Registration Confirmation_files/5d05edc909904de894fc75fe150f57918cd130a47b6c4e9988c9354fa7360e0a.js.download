/* @version: 2.8.127 */
(()=>{var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}var n={},i={},r=t.parcelRequire39bd;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},t.parcelRequire39bd=r),r.register("kTaq9",(function(t,e){var n;t.exports=(n=r("6wo06"),function(){var t=n,e=t.lib.WordArray;function i(t,n,i){for(var r=[],o=0,a=0;a<n;a++)if(a%4){var s=i[t.charCodeAt(a-1)]<<a%4*2|i[t.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=s<<24-o%4*8,o++}return e.create(r,o)}t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(i.charAt(a>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return i(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),r.register("6wo06",(function(e,n){var i;e.exports=(i=i||function(e,n){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=r("8vpHx")}catch(t){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},c=s.lib={},l=c.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=l.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=n?e:4*t.length},toString:function(t){return(t||d).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=a<<24-(i+o)%4*8}else for(var s=0;s<r;s+=4)e[i+s>>>2]=n[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var t=l.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new u.init(e,t)}}),h=s.enc={},d=h.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new u.init(n,e/2)}},m=h.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new u.init(n,e)}},f=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(m.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return m.parse(unescape(encodeURIComponent(t)))}},p=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var n,i=this._data,r=i.words,o=i.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var h=0;h<c;h+=a)this._doProcessBlock(r,h);n=r.splice(0,c),i.sigBytes-=l}return new u.init(n,l)},clone:function(){var t=l.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),g=(c.Hasher=p.extend({cfg:l.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math),i)})),r.register("8vpHx",(function(t,e){})),r.register("j4mYy",(function(t,e){var n;t.exports=(n=r("6wo06"),n.enc.Utf8)})),r.register("6Ax7d",(function(t,e){var n;t.exports=(n=r("6wo06"),r("eweGj"),r("9ptyX"),n.HmacSHA256)})),r.register("eweGj",(function(t,e){var n;t.exports=(n=r("6wo06"),function(t){var e=n,i=e.lib,r=i.WordArray,o=i.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var i=2,r=0;r<64;)e(i)&&(r<8&&(s[r]=n(t.pow(i,.5))),c[r]=n(t.pow(i,1/3)),r++),i++}();var l=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5],h=n[6],d=n[7],m=0;m<64;m++){if(m<16)l[m]=0|t[e+m];else{var f=l[m-15],p=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=l[m-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[m]=p+l[m-7]+v+l[m-16]}var y=i&r^i&o^r&o,w=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&h)+c[m]+l[m];d=h,h=u,u=s,s=a+b|0,a=o,o=r,r=i,i=b+(w+y)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)})),r.register("9ptyX",(function(t,e){var n,i,o,a;t.exports=(n=r("6wo06"),o=(i=n).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),o=this._iKey=e.clone(),s=r.words,c=o.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;r.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))})),r.register("3LZM1",(function(t,e){var n,i;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&i.rotl(t,8)|4278255360&i.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=i.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?e.push(n.charAt(r>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&e.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(t.charAt(i))>>>6-2*r);return e}},t.exports=i})),r.register("3hKrT",(function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n}));var o={};(o=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}).__esModule=!0,o.default=o;var a={};a=function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function e(n,i){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=t({},i,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=e+"="+n.write(r,e)+a}}function o(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],i={},r=0;r<e.length;r++){var o=e[r].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(i[s]=n.read(a,s),t===s)break}catch(t){}}return t?i[t]:i}}return Object.create({set:r,get:o,remove:function(e,n){r(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}return e({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}(),void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});const s=(t,e)=>typeof t===e,c=t=>s(t,"undefined"),l=t=>s(t,"function"),u=(t,e)=>{let n=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return null!=t&&n===e.toLowerCase()},h=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(0===n.length)return!1;for(let e=0;e<n.length;e++){if(!t||!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;t=t[n[e]]}return!0};var d,m;(m=d||(d={})).BASE="color: #000; background-color: #b9bfca; padding: 2px 8px; border-radius: 2px",m.ERROR="background-color: #e88388;",m.WARNING="background-color: #dbab79",m.SUCCESS="background-color: #a8cc8c";const f=function(t){if("string"!=typeof t){t=t.text||"";var e=document.getElementsByTagName("title");e&&void 0!==e[0]&&(t=e[0].text)}return t},p=function(t){var e=t.length;return"."===t.charAt(--e)&&(t=t.slice(0,e)),"*."===t.slice(0,2)&&(t=t.slice(1)),t},g=function(t,e){var n=new RegExp("^[^#]*[?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},v=function(t){var e="",n=g("referrer",window.location.href)||g("referer",window.location.href);if(n)return n;if(t)return t;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(t){e=""}}return""===e&&(e=document.referrer),e},y=function(t,e,n,i){return t.addEventListener?(t.addEventListener(e,n,i),!0):t.attachEvent?t.attachEvent("on"+e,n):void(t["on"+e]=n)},w=function(t,e,n){return!!t.removeEventListener&&(t.removeEventListener(e,n),!0)},b=function(t){"undefined"!=typeof console&&console.warn("Panorama: "+t)};const E=function(t){try{const e=localStorage.getItem(t);if(e)return e}catch(t){}},C=function(t,e){try{return localStorage.setItem(t,e),!0}catch(t){return!1}},S=function(t,n){e(a).remove(t,{path:"/",domain:n})},T=function(t){for(var e=document.cookie.split("; "),n=[],i=0;i<e.length;i++)e[i].substring(0,t.length)===t&&n.push(e[i]);return n},A=function(){for(var t="_sp_root_domain_test_",n=t+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),r=window.location.hostname.split("."),o=r.length-1;o>=0;){var s=r.slice(o,r.length).join(".");if(e(a).set(n,i,{path:"/",domain:s}),e(a).get(n)===i){S(n,s);for(var c=T(t),l=0;l<c.length;l++)S(c[l],s);return s}o-=1}return window.location.hostname},k=function(t,e,n,i){h(window,"AWSC","Clog","log")&&"function"==typeof window.AWSC.Clog.log&&window.AWSC.Clog.log(t,e,n,i)},P=function(t,e,n,i){h(window,"AWSC","Clog","system","prequeue")&&"function"==typeof window.AWSC.Clog.system.prequeue&&window.AWSC.Clog.system.prequeue(t,e,n,i)},I=function(t){h(window,"panorama","enabled")&&!0===window.panorama.enabled&&window.panorama("trackCustomEvent",t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var O=function(){return O=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},O.apply(this,arguments)};var L=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},N="object"==typeof D&&D&&D.Object===Object&&D,R="object"==typeof self&&self&&self.Object===Object&&self,x=N||R||Function("return this")(),_=function(){return x.Date.now()},M=x.Symbol,B=Object.prototype,U=B.hasOwnProperty,F=B.toString,V=M?M.toStringTag:void 0;var H=function(t){var e=U.call(t,V),n=t[V];try{t[V]=void 0;var i=!0}catch(t){}var r=F.call(t);return i&&(e?t[V]=n:delete t[V]),r},j=Object.prototype.toString;var q=function(t){return j.call(t)},W=M?M.toStringTag:void 0;var z=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":W&&W in Object(t)?H(t):q(t)};var G=function(t){return null!=t&&"object"==typeof t};var $=function(t){return"symbol"==typeof t||G(t)&&"[object Symbol]"==z(t)},J=/^\s+|\s+$/g,X=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,K=/^0o[0-7]+$/i,Y=parseInt;var Z=function(t){if("number"==typeof t)return t;if($(t))return NaN;if(L(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=L(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(J,"");var n=Q.test(t);return n||K.test(t)?Y(t.slice(2),n?2:8):X.test(t)?NaN:+t},tt=Math.max,et=Math.min;var nt=function(t,e,n){var i,r,o,a,s,c,l=0,u=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=i,o=r;return i=r=void 0,l=e,a=t.apply(o,n)}function f(t){return l=t,s=setTimeout(g,e),u?m(t):a}function p(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=o}function g(){var t=_();if(p(t))return v(t);s=setTimeout(g,function(t){var n=e-(t-c);return h?et(n,o-(t-l)):n}(t))}function v(t){return s=void 0,d&&i?m(t):(i=r=void 0,a)}function y(){var t=_(),n=p(t);if(i=arguments,r=this,c=t,n){if(void 0===s)return f(c);if(h)return s=setTimeout(g,e),m(c)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Z(e)||0,L(n)&&(u=!!n.leading,o=(h="maxWait"in n)?tt(Z(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=c=r=s=void 0},y.flush=function(){return void 0===s?a:v(_())},y};var it=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return L(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),nt(t,e,{leading:i,maxWait:e,trailing:r})},rt=["scroll","resize"],ot=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"],at=function(){function t(t){var e=t.timeIntervalEllapsedCallbacks,n=void 0===e?[]:e,i=t.absoluteTimeEllapsedCallbacks,r=void 0===i?[]:i,o=t.checkCallbacksIntervalMs,a=void 0===o?100:o,s=t.browserTabInactiveCallbacks,c=void 0===s?[]:s,l=t.idleCallbacks,u=void 0===l?[]:l,h=t.stopTimerOnTabchange,d=void 0===h||h,m=t.activeCallbacks,f=void 0===m?[]:m,p=t.browserTabActiveCallbacks,g=void 0===p?[]:p,v=t.idleTimeoutMs,y=void 0===v?3e3:v,w=this;this.onBrowserTabInactive=function(){w.isRunning()&&w.stopTimerOnTabchange&&w.stopTimer(),w.browserTabInactiveCallbacks.forEach((function(t){return t(w.getTimeInMilliseconds())}))},this.onBrowserTabActive=function(){w.isRunning()||w.startTimer(),w.browserTabActiveCallbacks.forEach((function(t){return t(w.getTimeInMilliseconds())}))},this.onBrowserActiveChange=function(){"visible"===document.visibilityState?w.onBrowserTabActive():w.onBrowserTabInactive()},this.onTimePassed=function(){w.absoluteTimeEllapsedCallbacks.forEach((function(t,e){var n=t.callback,i=t.pending,r=t.timeInMilliseconds;i&&r<=w.getTimeInMilliseconds()&&(n(w.getTimeInMilliseconds()),w.absoluteTimeEllapsedCallbacks[e].pending=!1)})),w.timeIntervalEllapsedCallbacks.forEach((function(t,e){var n=t.callback,i=t.timeInMilliseconds,r=t.multiplier;i<=w.getTimeInMilliseconds()&&(n(w.getTimeInMilliseconds()),w.timeIntervalEllapsedCallbacks[e].timeInMilliseconds=r(i))})),w.currentIdleTimeMs>=w.idleTimeoutMs&&w.isRunning()?(w.idle=!0,w.stopTimer(),w.idleCallbacks.forEach((function(t){return t(w.getTimeInMilliseconds())}))):w.currentIdleTimeMs+=w.checkCallbacksIntervalMs},this.resetIdleTime=function(){w.idle&&w.startTimer(),w.activeCallbacks.forEach((function(t){return t(w.getTimeInMilliseconds())})),w.idle=!1,w.currentIdleTimeMs=0},this.registerEventListeners=function(){var t={passive:!0},e=O({},t,{capture:!0});document.addEventListener("visibilitychange",w.onBrowserActiveChange);var n=it(w.resetIdleTime,2e3,{leading:!0,trailing:!1});rt.forEach((function(t){window.addEventListener(t,n,e)})),ot.forEach((function(e){return document.addEventListener(e,n,t)}))},this.unregisterEventListeners=function(){document.removeEventListener("visibilitychange",w.onBrowserActiveChange),rt.forEach((function(t){return window.removeEventListener(t,w.resetIdleTime)})),ot.forEach((function(t){return document.removeEventListener(t,w.resetIdleTime)}))},this.checkCallbacksOnInterval=function(){w.checkCallbackIntervalId=window.setInterval((function(){w.onTimePassed()}),w.checkCallbacksIntervalMs)},this.startTimer=function(){w.checkCallbackIntervalId||w.checkCallbacksOnInterval();var t=w.times[w.times.length-1];t&&null===t.stop||(w.times.push({start:performance.now(),stop:null}),w.running=!0)},this.stopTimer=function(){w.times.length&&(w.times[w.times.length-1].stop=performance.now(),w.running=!1)},this.addTimeIntervalEllapsedCallback=function(t){w.timeIntervalEllapsedCallbacks.push(t)},this.addAbsoluteTimeEllapsedCallback=function(t){w.absoluteTimeEllapsedCallbacks.push(t)},this.addBrowserTabInactiveCallback=function(t){w.browserTabInactiveCallbacks.push(t)},this.addBrowserTabActiveCallback=function(t){w.browserTabActiveCallbacks.push(t)},this.addIdleCallback=function(t){w.idleCallbacks.push(t)},this.addActiveCallback=function(t){w.activeCallbacks.push(t)},this.getTimeInMilliseconds=function(){return w.times.reduce((function(t,e){return e.stop?t+=e.stop-e.start:t+=performance.now()-e.start,t}),0)},this.isRunning=function(){return w.running},this.isIdle=function(){return w.idle},this.reset=function(){w.times=[]},this.destroy=function(){w.unregisterEventListeners(),w.checkCallbackIntervalId&&window.clearInterval(w.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.stopTimerOnTabchange=d,this.browserTabActiveCallbacks=g,this.browserTabInactiveCallbacks=c,this.checkCallbacksIntervalMs=a,this.idleTimeoutMs=y,this.timeIntervalEllapsedCallbacks=n,this.absoluteTimeEllapsedCallbacks=r,this.idleCallbacks=u,this.activeCallbacks=f,this.registerEventListeners()}return t.prototype.mark=function(t){this.marks[t]||(this.marks[t]=[]),this.marks[t].push({time:this.getTimeInMilliseconds()})},t.prototype.getMarks=function(t){if(!(this.marks[t].length<1))return this.marks[t]},t.prototype.measure=function(t,e,n){var i=this.marks[e],r=i[i.length-1],o=this.marks[n],a=o[o.length-1];this.measures[t]||(this.measures[t]=[]),this.measures[t].push({name:t,startTime:r.time,duration:a.time-r.time})},t.prototype.getMeasures=function(t){if(this.measures[t]||!(this.measures[t].length<1))return this.measures[t]},t}();class st{update(t,e,n){for(let e in t)t.hasOwnProperty(e)&&!this.request[e]&&(this.request[e]=t[e]);for(let t in e)e.hasOwnProperty(t)&&(this.batchAttr[t]=e[t]);n&&(this.header=n)}getHeader(){return this.header}getBatchAttribute(){return this.batchAttr}build(){return this.request}constructor(t){e(o)(this,"request",{}),e(o)(this,"batchAttr",{}),e(o)(this,"header",{}),e(o)(this,"base64encode",void 0),this.base64encode=t||!1}}const ct={CAPTURE_FAC:!1,MAX_FIELD_LENGTH:4e3,NAVIGATION:"navigation",EVENT_FIELDS_TO_CHECK:["eventValue","eventDetail","eventContext"],CLOG_UNLOAD_OPS_METRICS:["total_time","active_time","active_percentage","numClogSeen","numClogThrottled","numClogCaptured","numPanoramaRetries","numInClogBuffer","numPanoramaRequests","totalDedupes","throttledLogsCount","totalLogsCount","unFlushedLogsCount","noKeyErrorCount","jsErrorLogsThrottledCount","totalJsErrorLogsCount","totalCustomerReadyLogsCount","customerReadyLogsThrottledCount"],CLOG_METRICS_TO_IGNORE:["panoRoutingTimeoutExceeded","panoRoutingSuccessLatency","panoRoutingFailureLatency","panoBatchDrop"],cookieDomain:null,flags:{disableBusinessMetrics:!1,enableViewMetrics:!0,enableCustomMetrics:!0,disableOpsMetrics:!1},forceSecureTracker:!1,forceUnsecureTracker:!1,stateStorageStrategy:"localStorage",pluginsEnabledByDefault:!1,configTrackerPause:500,trackMouseMoves:!1,modality:"web",outqueueRetries:0,COOKIES_TO_CAPTURE:["aws-csds-token","s_fid"],PERFORMANCE_PLUGIN_PARAMETERS:{DETAILED_PERFORMANCE_METRICS:!1,MAX_MEASURE_TIME:15e3,FID_THRESHOLD:50,FRAME_THRESHOLD:1500,RESOURCE_THRESHOLD:1500},VALID_EVENT_LISTENERS:["afterSend","beforeSend","onCapture","onDiscard","onProcessed","onQueued","updatedCommonAttribute","onLocationChange"],VALID_DOMAINS:["test","dev","alpha","beta","integ","gamma","preprod","nonprod","prod"],FIELDS_TO_PRESERVE:["operationalData","widgetIds","customProperties","eventInteractionMetaData"],DOMAINS:{NONPROD:/alpha|beta|gamma|integ|preprod|pre-prod|aws-dev/i,PROD:/aws.amazon.com|amazonaws.cn|amazonaws-us-gov.com/i},PANORAMA_FOCUS_STORAGE_KEY:"AWSCPF_enabled",DEFAULT_BUFFER_SIZE:1e3,DEFAULT_MAX_POST_BYTES:55e3,DEFAULT_MAX_SINGLE_POST_BYTES:45e3,AWS_PARTITION_NAME:{Aws:"aws",AwsUsGov:"aws-us-gov",AwsIso:"aws-iso",AwsIsoB:"aws-iso-b",AwsCn:"aws-cn"}},{VALID_EVENT_LISTENERS:lt}=ct,ut={},ht=(t,e)=>{lt.indexOf(t)>=0&&(ut.hasOwnProperty(t)?ut[t].push(e):ut[t]=[e])},dt=(t,e)=>{const n=ut[t];if(n)for(let i=n.length-1;i>=0;i--){n[i].toString()===e.toString()&&ut[t].splice(i,1)}},mt=(t,e)=>{if(ut.hasOwnProperty(t)){ut[t].forEach((t=>t.call(null,e)))}},ft=t=>""===t.trim(),pt=t=>t&&t.console?t.console:!!h(window,"ConsoleNavService","Model","currentService"),gt=t=>{t||(t=window.location.href);const e=t.match(/([a-z]+-)+\d{1}/gi);return e?e[0]:"us-east-1"},vt=t=>{try{return document.head.querySelector(`meta[name="${t}"]`).getAttribute("content")}catch{return null}},yt=t=>{let e="";if(t&&Object.prototype.hasOwnProperty.call(t,"metricList")&&u(t.metricList,"array")){const n=[],i=t.metricList;for(let t=0;t<i.length;t++){const r=i[t],o=h(r,"metricName"),a=h(r,"metricValue");if(o&&ft(r.metricName))e="Received an empty metricName, therefore it was not added to the queue.",b(e);else if(o){if(a&&u(r.metricValue,"boolean"))r.metricValue=Number(r.metricValue);else if(a&&!u(r.metricValue,"number")){e=`${r.metricName}'s value is not a number, therefore it was not added to the queue.`,b(e);continue}n.push(r)}else e="No metricName was provided, therefore it was not added to the queue.",b(e)}t.metricList=n}else e="metricList did not exist or was not an array.";return{message:e,validatedOpsPayload:t}},wt=t=>{if(t&&u(t,"array")&&t.length>0){const e=[];return t.forEach((t=>{let{propertyName:n,propertyValue:i}=t;const r=Object.keys(t).every((e=>{let r;return"propertyName"===e?r=ft(n):"propertyValue"===e&&(u(i,"number")||u(i,"string")||(t.propertyValue=JSON.stringify(i)),r=u(i,"string")&&ft(t.propertyValue)),!r||(b("Received an empty propertyName or propertyValue."),!1)}));t.valueType=typeof t.propertyValue,r&&e.push(t)})),e}return b("Received no valid customProperties."),[]},bt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator;return h(window,"AWSC","Locale","getCurrentLocale")&&"function"==typeof window.AWSC.Locale.getCurrentLocale?window.AWSC.Locale.getCurrentLocale():(I({eventSource:"panoramaInternal",eventType:"trackerLogging",eventContext:"detectLocaleError",eventDetail:"Not_Able_To_Extract_From_getCurrentLocale"}),t.userLanguage||t.language)};function Et(){return!!window.crypto&&!!crypto.randomUUID}function Ct(){return Et()?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function St(t){return t.payload.request.requestId=Ct(),t.payload.request.timestamp=t.tstamp?t.tstamp:(new Date).getTime(),delete t.payload.tag,t.payload.update(t.commonPayloadAttr,t.commonBatchAttr,t.commonPayloadHeader),"function"==typeof t.callback&&t.callback(t.payload),t.payload}const Tt="panorama",At="operational",kt="polaroid",Pt="view",It="pageRender",Ot=/https:\/\/(.*?).?console.aws.amazon.com\/(.*?)\//,Lt=new Set(["view","click","hover","dwell","scroll","pageRender","pageLevelTimer","locationChange","visibilityChange","render","alert","change"]);function Dt(t,e,n){let i=new st(e);return i.update(t),i.request.eventSource=Tt,i.request.eventType=It,i.request.requestUri=t.pageUrlPath,n({payload:i,tstamp:t.timestamp})}function Nt(t,e,n){let i=new st(e);return i.update(t),i.request.eventSource=Tt,i.request.eventType="scroll",i.request.eventPath=t.eventPath,i=n({payload:i,tstamp:t.timestamp}),i}function Rt(t,e,n){let i=new st(e);return i.update(t),i.request.eventSource=Tt,i.request.eventType="click",i=n({payload:i,tstamp:t.timestamp}),i}function xt(t,e,n){let i=new st(e);return t.eventSource||(t.eventSource="panorama"),i.update(t),i=n({payload:i,tstamp:t.timestamp}),i}class _t extends class{constructor(){e(o)(this,"commonPayloadAttr",{}),e(o)(this,"commonPayloadHeader",{}),e(o)(this,"commonBatchAttr",{}),e(o)(this,"addCommonPayloadAttr",((t,e)=>{this.commonPayloadAttr[t]=e})),e(o)(this,"addCommonPayloadHeader",((t,e)=>{this.commonPayloadHeader[t]=e})),e(o)(this,"addCommonBatchAttr",((t,e)=>{this.commonBatchAttr[t]=e})),e(o)(this,"getCommonPayloadAttr",(t=>this.commonPayloadAttr[t]||"")),e(o)(this,"setAWSRegion",(t=>{this.addCommonPayloadAttr("consoleRegion",t)})),e(o)(this,"setAWSUserInfo",(t=>{this.addCommonBatchAttr("awsUserInfo",encodeURI(t))})),e(o)(this,"setAWSUserInfoSigned",(t=>{this.addCommonBatchAttr("awsUserInfoSigned",t)})),e(o)(this,"setVisitorInfo",(t=>{this.addCommonBatchAttr("visitorInfo",t)})),e(o)(this,"setService",(t=>{this.addCommonPayloadAttr("service",t)})),e(o)(this,"setBrowserCookies",(t=>{this.addCommonPayloadAttr("browserCookies",t)})),e(o)(this,"setDomain",(t=>{let e;const n=window.location.hostname,{NONPROD:i,PROD:r}=ct.DOMAINS;switch(!0){case!!t:e=t;break;case i.test(n):e="NonProd";break;case r.test(n):e="Prod";break;default:e="NonProd"}return this.addCommonPayloadAttr("domain",e),e})),e(o)(this,"setScreenResolution",(t=>{if(t&&t.split("x").length>1){let e=t.split("x"),n=e[0],i=e[1];this.addCommonPayloadAttr("deviceResolutionWidth",n),this.addCommonPayloadAttr("deviceResolutionHeight",i)}})),e(o)(this,"setViewport",((t,e)=>{this.addCommonPayloadAttr("browserViewPortWidth",t),this.addCommonPayloadAttr("browserViewPortHeight",e)})),e(o)(this,"setColorDepth",(t=>{this.addCommonPayloadAttr("browserColorDepth",t)})),e(o)(this,"setTimezone",(t=>{this.addCommonPayloadAttr("deviceTimeZone",t)})),e(o)(this,"setLang",(t=>{this.addCommonPayloadAttr("browserLanguage",t)}))}}{constructor(t){super(),e(o)(this,"base64",void 0),e(o)(this,"callback",void 0),e(o)(this,"capturedPayloadsList",void 0),e(o)(this,"storePayloadInternally",void 0),e(o)(this,"removeEmptyProperties",((t,e)=>{var n={};for(var i in e=e||{},t)(e[i]||null!==t[i]&&void 0!==t[i])&&(n[i]=t[i]);return n})),e(o)(this,"track",(t=>{const e=t;return e.callback=this.callback,e.commonPayloadAttr=this.commonPayloadAttr,e.commonBatchAttr=this.commonBatchAttr,e.commonPayloadHeader=this.commonPayloadHeader,this.storePayloadInternally&&E(ct.PANORAMA_FOCUS_STORAGE_KEY)&&this.capturedPayloadsList.push(e),mt("onCapture",e),St(e)})),e(o)(this,"cleanCapturedPayloadsList",(()=>{this.capturedPayloadsList=[],this.storePayloadInternally=!1})),e(o)(this,"readCapturedPayloadsList",(()=>this.capturedPayloadsList)),e(o)(this,"trackSelfDescribingEvent",(t=>{var e=new st(this.base64);return e.request.eventType="ue",this.track({payload:e,tstamp:t.tstamp})})),e(o)(this,"setBase64Encoding",(t=>{this.base64=t})),e(o)(this,"trackCustomEvent",(t=>xt(t,this.base64,this.track))),e(o)(this,"trackPanoramaClickEvent",(t=>Rt(t,this.base64,this.track))),e(o)(this,"trackPanoramaScrollEvent",(t=>Nt(t,this.base64,this.track))),e(o)(this,"trackPageView",(t=>Dt(t,this.base64,this.track))),e(o)(this,"trackLinkClick",(t=>{var e={data:this.removeEmptyProperties({targetUrl:t.targetUrl,elementId:t.elementId,elementClasses:t.elementClasses,elementTarget:t.elementTarget,elementContent:t.elementContent})};return this.trackSelfDescribingEvent({properties:e,context:t.context,tstamp:t.tstamp})})),e(o)(this,"trackFormChange",(t=>this.trackSelfDescribingEvent({properties:{data:this.removeEmptyProperties({formId:t.formId,elementId:t.elementId,nodeName:t.nodeName,type:t.type,elementClasses:t.elementClasses,value:t.value},{value:!0})},context:t.context,tstamp:t.tstamp}))),e(o)(this,"trackFormSubmission",(t=>this.trackSelfDescribingEvent({properties:{data:this.removeEmptyProperties({formId:t.formId,formClasses:t.formClasses,elements:t.elements})},context:t.context,tstamp:t.tstamp}))),void 0===t.base64&&(this.base64=!0),this.callback=t.callback,this.capturedPayloadsList=[],this.storePayloadInternally=!0}}var Mt=window,Bt=navigator,Ut=screen,Ft=document;const Vt=function(){var t="modernizr";if(!function(){try{return!!Mt.localStorage}catch(t){return!0}}())return!1;try{return Mt.localStorage.setItem(t,t),Mt.localStorage.removeItem(t),!0}catch(t){return!1}},Ht=function(t,n){var i,r,o={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},s={};if(Bt.mimeTypes&&Bt.mimeTypes.length)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r=Bt.mimeTypes[o[i]],s[i]=r&&r.enabledPlugin?"1":"0");return Bt.constructor===window.Navigator&&"unknown"!=typeof Bt.javaEnabled&&!c(Bt.javaEnabled)&&Bt.javaEnabled()&&(s.java="1"),l(Mt.GearsFactory)&&(s.gears="1"),s.res=Ut.width+"x"+Ut.height,s.cd=Ut.colorDepth,t&&(s.cookie=function(t){var n=t||"testcookie";if(c(Bt.cookieEnabled))try{return e(a).set(n,"1"),"1"===e(a).get(n)?"1":"0"}catch(t){return"0"}return Bt.cookieEnabled?"1":"0"}(n)),s},jt=function(t){return[t.hostName,t.href,t.referrer]};var qt,Wt=9007199254740991,zt="[object Arguments]",Gt="[object Function]",$t="[object GeneratorFunction]",Jt=/^(?:0|[1-9]\d*)$/;function Xt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Qt,Kt,Yt=Object.prototype,Zt=Yt.hasOwnProperty,te=Yt.toString,ee=Yt.propertyIsEnumerable,ne=(Qt=Object.keys,Kt=Object,function(t){return Qt(Kt(t))}),ie=Math.max;function re(t,e){var n=le(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&ue(t)}(t)&&Zt.call(t,"callee")&&(!ee.call(t,"callee")||te.call(t)==zt)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!Zt.call(t,o)||r&&("length"==o||se(o,i))||n.push(o);return n}function oe(t,e,n){var i=t[e];Zt.call(t,e)&&ce(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function ae(t){if(n=(e=t)&&e.constructor,i="function"==typeof n&&n.prototype||Yt,e!==i)return ne(t);var e,n,i,r=[];for(var o in Object(t))Zt.call(t,o)&&"constructor"!=o&&r.push(o);return r}function se(t,e){return!!(e=null==e?Wt:e)&&("number"==typeof t||Jt.test(t))&&t>-1&&t%1==0&&t<e}function ce(t,e){return t===e||t!=t&&e!=e}var le=Array.isArray;function ue(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Wt}(t.length)&&!function(t){var e=he(t)?te.call(t):"";return e==Gt||e==$t}(t)}function he(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var de,me=(de=function(t,e,n,i){!function(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var a=e[r],s=i?i(n[a],t[a],a,n,t):void 0;oe(n,a,void 0===s?t[a]:s)}}(e,function(t){return ue(t)?re(t):ae(t)}(e),t,i)},function(t,e){return e=ie(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=ie(n.length-e,0),o=Array(r);++i<r;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=o,Xt(t,this,a)}}((function(t,e){var n=-1,i=e.length,r=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(r=de.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(t,e,n){if(!he(n))return!1;var i=typeof e;return!!("number"==i?ue(n)&&se(e,n.length):"string"==i&&e in n)&&ce(n[e],t)}(e[0],e[1],o)&&(r=i<3?void 0:r,i=1),t=Object(t);++n<i;){var a=e[n];a&&de(t,a,n,r)}return t})));async function fe(t,e){const{timeout:n=6e3}=e,i=new AbortController,r=setTimeout((()=>i.abort()),n),o=await fetch(t,{...e,signal:i.signal});return clearTimeout(r),o}function pe(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<=127?e+=1:i<=2047?e+=2:i>=55296&&i<=57343?(e+=4,n++):e+=i<65535?3:4}return e}qt=me;const{FIELDS_TO_PRESERVE:ge}=ct;function ve(t){for(let e in t)if(t.hasOwnProperty(e)){let n=t[e];n="0"==n?"0":n,n&&ge.indexOf(e)>=0?t[e]=n:t[e]=n?n.toString():""}return{evt:t,bytes:pe(JSON.stringify(t))}}var ye=r("kTaq9"),we=r("j4mYy"),be=r("6Ax7d");const Ee=((t,e)=>{let n="";for(let i=t;i>0;i--)n+=e[Math.floor(Math.random()*e.length)];return n})(13,"abcdefghijklmnopqrstuvwxyz01234~!@#$%"),Ce=t=>{let n=e(ye).stringify(t);return n=n.replace(/=+$/,""),n=n.replace(/\+/g,"-"),n=n.replace(/\//g,"_"),n},Se=t=>{const n=e(we).parse(JSON.stringify(t));return Ce(n)},Te=(t,n,i,r)=>{const o={pid:t,uat:n,exp:i,pvd:r},a=`${Se({alg:"HS256",typ:"JWT"})}.${Se(o)}`;return`${a}.${Ce(e(be)(a,Ee))}`},Ae=t=>{try{return JSON.parse(atob(t.split(".")[1]))}catch(t){return null}};var ke=class{constructor(){var t=this;e(o)(this,"storageStrategy","cookie"),e(o)(this,"cookiePath","/"),e(o)(this,"cookieDomain",void 0),e(o)(this,"expirationThresholdInMs",2592e6),e(o)(this,"setCookie",(function(n,i,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if("localStorage"===t.storageStrategy)C(n,i);else if("cookie"===t.storageStrategy||"cookieAndLocalStorage"===t.storageStrategy)return e(a).set(n,i,{expires:r,path:t.cookiePath,domain:o,secure:s})})),e(o)(this,"getCookie",(t=>"localStorage"===this.storageStrategy?E(t):"cookie"===this.storageStrategy||"cookieAndLocalStorage"===this.storageStrategy?e(a).get(t):void 0)),e(o)(this,"getVidCookie",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws-vid";return t.getCookie(e)})),e(o)(this,"deleteCookie",(t=>{"cookie"===this.storageStrategy&&e(a).remove(t)})),e(o)(this,"createOrUpdateVidCookie",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws-vid",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:31536e3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.getVidCookie();try{if(r){const{pid:o,exp:a,pvd:s}=Ae(r);if(a-Date.now()<t.expirationThresholdInMs){const a=Date.now(),c=Te(o,a,a+1e3*n,s);r=t.setCookie(e,c,n,t.cookieDomain,i)}}else{const o=Date.now(),a=o+1e3*n,s=Te(Ct(),o,a,t.cookieDomain);r=t.setCookie(e,s,n,t.cookieDomain,i)}return r.replace("aws-vid=","").split(";")[0]}catch(t){return""}}))}};class Pe{updateCommonBatchAttr(t){this.commonBatchAttr=t}enqueueRequest(t,e,n,i){this.configCollectorUrl=i+this.urlPath,this.commonHeader=n,this.updateCommonBatchAttr(e);const r=ve(t);if(r.bytes>=this.maxSinglePostBytes){if(r.bytes>99e4)return void this.trackerStats.numExceededLimit++;if(this.blockOutqueue)return;b("Event of size "+r.bytes+" bytes is too long - the maximum size is "+this.maxSinglePostBytes);let t=this.initializeXMLHttpRequest(this.configCollectorUrl,n);const{batchRequestId:i,dataToSend:o}=this.encloseInPayloadDataEnvelope([r.evt],e);return t.send(o),this.trackerStats.sentEvents+=1,void delete this.inFlightBatches[i]}this.isPayloadLimitExceeded(r)&&(this.executeQueue({queueFull:!0}),this.totalPayloadSize=0),this.totalPayloadSize+=r.bytes,this.outQueue.push(r),mt("onQueued",r)}isPayloadLimitExceeded(t){return this.totalPayloadSize+t.bytes>=this.maxPostBytes}initializeXMLHttpRequest(t,e){let n=new XMLHttpRequest;this.overrideCollectorUrl&&(t=this.urlPath,this.overrideCollectorUrl=!1),n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json; charset=UTF-8");try{n.setRequestHeader("Panorama-AppEntity",this.appEntity||"")}catch(t){P("panoXhrAppEntityHeaderFailed",1)}if(e)for(const t of Object.keys(e))n.setRequestHeader(t,e[t]);return n}encloseInPayloadDataEnvelope(t,n,i,r){const o=r||this.service||(n&&n.consoleService?n.consoleService:""),a=i||this.region;if(this.commonPayloadAttr.service=o,this.commonPayloadAttr.consoleRegion=a,void 0!==this.service)for(let n=0;n<t.length;n++)if(this.pageLoaded||(t[n]=e(qt)(t[n],this.commonPayloadAttr,((t,e,n)=>["serviceConsolePage","serviceSubSection","variant"].includes(n)?t:e))),this.sanitizer)try{t[n]=this.sanitizer(t[n])}catch(t){b(t)}let s;this.pageLoaded||(this.pageLoaded=!0),this.cookieHandler.storageStrategy="cookie";try{s=encodeURI(this.cookieHandler.getCookie("aws-userInfo")||"")}catch(t){P("clogCapturedUserInfoError",1,"error: ",null==t?void 0:t.message)}const c=Ct(),l={appEntity:n?n.appEntity:"",awsUserInfo:n?n.awsUserInfo:"",awsUserInfoSigned:n?n.awsUserInfoSigned:"",batchRequest:t,batchRequestId:c,consoleRegion:a,consoleService:o,visitorInfo:n?n.visitorInfo:"",clogCapturedUserInfo:s},u=JSON.stringify(l);return this.inFlightBatches[c]={batch:u,length:t.length,retries:0,status:void 0},{dataToSend:u,batchRequestId:c}}retryWithConnectionCheck(t){this.isFirstCall&&window.panorama&&this.isConsole&&(window.panorama.useProxy=!0,this.overrideCollectorUrl=!0,this.isFirstCall=!1);const{batchRequestId:e,err:n}=t;window.navigator.onLine?(n&&n.message&&n.message.match(/abort/gi)&&P("panoRoutingTimeoutExceeded",1),this.retryOnFailure(e)):this.networkFailureBatches.push(e),this.executingQueue=!1}sendFetchRequest(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={...i};try{o={...o,"Content-Type":"application/json; charset=UTF-8","Panorama-AppEntity":this.appEntity||""}}catch(t){P("panoFetchAppEntityHeaderFailed",1)}fe(t,{method:"POST",headers:o,body:n,mode:"cors",keepalive:r,timeout:2e4}).then((t=>{if(t)return this.inFlightBatches[e].status=t.status,t.json();throw new Error("No response received.")})).then((t=>this.onFetchComplete(t))).catch((t=>{this.retryWithConnectionCheck({batchRequestId:e,err:t})}))}onFetchComplete(t){const{batchRequestId:e}=t,n=this.inFlightBatches[e].status;try{const{status:i}=t;"SUCCESS"===i&&n>=200&&n<400?this.onSuccessHandler(e):("FAILURE"===i||n>=500||0===n)&&this.retryWithConnectionCheck({batchRequestId:e,err:new Error("onFetchComplete response error")})}catch(t){P("panoFetchResParseErr",1),n>=200&&n<400?this.onSuccessHandler(e):n>=500&&this.retryWithConnectionCheck({batchRequestId:e,err:new Error("onFetchComplete error")})}finally{this.executingQueue=!1,mt("afterSend",n),this.isFirstCall&&(this.isFirstCall=!1)}}retryOnFailure(t){if(h(this.inFlightBatches,t)){const e=this.inFlightBatches[t];if(e.retries<this.maxRetries)this.sendData(e.batch,t,!1),e.retries+=1,this.numRetries++,this.trackerStats.retries=this.numRetries;else{this.trackerStats.droppedEvents+=e.length;const n=JSON.parse(e.batch).batchRequest;n.forEach((t=>{const{eventSource:e,eventName:n,eventType:i}=t;let r=e+".";r+="clog"===e?n:i,this.trackerStats.droppedEventsDetails[r]?this.trackerStats.droppedEventsDetails[r]++:this.trackerStats.droppedEventsDetails[r]=1})),mt("onDiscard",n),P("panoBatchDrop",1,`${e&&e.length?e.length:0}`),delete this.inFlightBatches[t]}}}onSuccessHandler(t){h(this.inFlightBatches,t)&&(this.trackerStats.sentEvents+=this.inFlightBatches[t].length,delete this.inFlightBatches[t])}setBlockOutqueue(t){this.blockOutqueue=t}executeQueue(t){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.triggerExecution()}),this.batchingTime);const e=!(!t||!t.bypassInterval)&&t.bypassInterval;if(this.blockOutqueue)return;const n=this.outQueue.map((t=>t.evt));if(this.outQueue.length=0,this.totalPayloadSize=0,n.length<1)return;for(;n.length&&"string"!=typeof n[0]&&"object"!=typeof n[0];)n.shift();const{dataToSend:i,batchRequestId:r}=this.encloseInPayloadDataEnvelope(n,this.commonBatchAttr,this.region,this.service);if(o=this.configCollectorUrl,!s(o,"string"))throw"No Panorama collector configured, cannot track";var o;this.executingQueue=!0,n.length>0&&this.sendData(i,r,e)}sendData(t,e,n){if(mt("beforeSend",t),window.Promise||window.fetch)this.overrideCollectorUrl&&(this.configCollectorUrl=this.urlPath,this.overrideCollectorUrl=!1),this.sendFetchRequest(this.configCollectorUrl,e,t,this.commonHeader,n);else{P("panoXmlHttpReqUsed",1);let n=this.initializeXMLHttpRequest(this.configCollectorUrl,this.commonHeader),i=setTimeout((()=>{n.abort(),this.executingQueue=!1,P("panoRoutingTimeoutExceeded",1)}),2e4);n.onreadystatechange=()=>{try{if(n.readyState===n.DONE&&n.status>0){const t=JSON.parse(n.response);"SUCCESS"===t.status&&n.status>=200&&n.status<400?this.onSuccessHandler(e):("FAILURE"===t.status||n.status>=500)&&this.retryWithConnectionCheck({batchRequestId:e,err:new Error("xhrOnReadyStateChange status 500")})}else 0===n.status&&this.retryWithConnectionCheck({batchRequestId:e,err:new Error("xhrOnReadyStateChange status 0")})}catch(t){P("panoXmlHttpResParseError",1),n.status>=200&&n.status<400?this.onSuccessHandler(e):n.status>=500&&this.retryWithConnectionCheck({batchRequestId:e,err:new Error("xhrOnReadyStateChange error")})}finally{this.executingQueue=!1,clearTimeout(i),mt("afterSend",n.status),this.isFirstCall&&(this.isFirstCall=!1)}},n.send(t)}}setSanitizerFunction(t){this.sanitizer=t}constructor(t){if(e(o)(this,"batchingTime",void 0),e(o)(this,"blockOutqueue",void 0),e(o)(this,"bufferSize",void 0),e(o)(this,"commonBatchAttr",void 0),e(o)(this,"commonHeader",void 0),e(o)(this,"commonPayloadAttr",void 0),e(o)(this,"core",void 0),e(o)(this,"isConsole",void 0),e(o)(this,"functionName",void 0),e(o)(this,"localStorageAvailable",void 0),e(o)(this,"maxPostBytes",void 0),e(o)(this,"maxSinglePostBytes",void 0),e(o)(this,"maxRetries",void 0),e(o)(this,"mutSnowplowState",void 0),e(o)(this,"namespace",void 0),e(o)(this,"sanitizer",void 0),e(o)(this,"trackerStats",void 0),e(o)(this,"useLocalStorage",void 0),e(o)(this,"waitTime",void 0),e(o)(this,"cookieHandler",new ke),e(o)(this,"networkFailureBatches",[]),e(o)(this,"inFlightBatches",{}),e(o)(this,"pageLoaded",!1),e(o)(this,"timer",void 0),e(o)(this,"totalPayloadSize",0),e(o)(this,"configCollectorUrl",void 0),e(o)(this,"executingQueue",!1),e(o)(this,"numRetries",0),e(o)(this,"region",void 0),e(o)(this,"service",void 0),e(o)(this,"appEntity",void 0),e(o)(this,"urlPath",void 0),e(o)(this,"outQueue",[]),e(o)(this,"isFirstCall",!0),e(o)(this,"overrideCollectorUrl",!1),e(o)(this,"triggerExecution",(()=>{this.executeQueue()})),t&&Object.assign(this,t),this.batchingTime=t.batchingTime?t.batchingTime:2e3,this.waitTime=this.batchingTime,this.localStorageAvailable=Vt(),this.localStorageAvailable)try{for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);null!=e&&e.startsWith("awsc_panorama_preference")&&localStorage.removeItem(e)}}catch(t){b(t)}this.outQueue=[],this.mutSnowplowState.outQueues.push(this.outQueue),this.mutSnowplowState.bufferFlushers.push((()=>{this.executeQueue({bypassInterval:!0})})),this.timer=setTimeout((()=>{this.triggerExecution()}),this.batchingTime),window.addEventListener("online",(()=>{P("panoNetworkRestored",1),this.networkFailureBatches.forEach((t=>this.retryOnFailure(t))),this.networkFailureBatches.length=0}))}}function Ie(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=null;return function(){const r=this,o=arguments,a=n&&!i,s=function(){t.apply(r,o)};i&&clearTimeout(i),i=setTimeout(s,e),a&&s()}}function Oe(t,e){var n;return e?(n=new RegExp("#.*"),t.replace(n,"")):t.substring(0,ct.MAX_FIELD_LENGTH)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)});var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.isPanoramaEnabled=Le.emitPanoramaCustomEvent=Le.redact=void 0;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.redact=void 0;var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.emitPanoramaCustomEvent=Ne.isPanoramaEnabled=void 0;Ne.isPanoramaEnabled=()=>window.panorama&&"function"==typeof window.panorama;const Re=[],xe=t=>{Re.push(t),(0,Ne.isPanoramaEnabled)()&&Re.forEach((t=>{(0,Ne.emitPanoramaCustomEvent)(t)}))};Ne.emitPanoramaCustomEvent=t=>{(0,Ne.isPanoramaEnabled)()?window.panorama("trackCustomEvent",{...t,timestamp:Date.now()}):xe(t)};var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.url=_e.digits=_e.credentials=_e.password=_e.username=_e.emailAddress=_e.usSocialSecurityNumber=_e.ipAddress=_e.phoneNumber=_e.zipcode=_e.streetAddress=_e.creditCardNumber=void 0;_e.creditCardNumber=/\d{4}[ -]?\d{4}[ -]?\d{4}[ -]?\d{4}|\d{4}[ -]?\d{6}[ -]?\d{4}\d?/g,_e.streetAddress=new RegExp("(\\d+\\s*(\\w+ ){1,2}"+/(street|st|road|rd|avenue|ave|drive|dr|loop|court|ct|circle|cir|lane|ln|boulevard|blvd|way)\.?\b/gi.source+"(\\s+"+/(apt|bldg|dept|fl|hngr|lot|pier|rm|ste|slip|trlr|unit|#)\.? *[a-z0-9-]+\b/gi.source+")?)|("+/P\.? ?O\.? *Box +\d+/gi.source+")","gi"),_e.zipcode=/\b\d{5}\b(-\d{4})?\b/g,_e.phoneNumber=/(\(?\+?[0-9]{1,2}\)?[-. ]?)?(\(?[0-9]{3}\)?|[0-9]{3})[-. ]?([0-9]{3}[-. ]?[0-9]{4}|\b[A-Z0-9]{7}\b)/g,_e.ipAddress=/(\d{1,3}(\.\d{1,3}){3}|[0-9A-F]{4}(:[0-9A-F]{4}){5}(::|(:0000)+))/gi,_e.usSocialSecurityNumber=/\b\d{3}[ -.]\d{2}[ -.]\d{4}\b/g,_e.emailAddress=/([a-z0-9_\-.+]+)@\w+(\.\w+)*/gi,_e.username=/(user( ?name)?|login): \S+/gi,_e.password=/(pass(word|phrase)?|secret): \S+/gi,_e.credentials=/(login( cred(ential)?s| info(rmation)?)?|cred(ential)?s) ?:\s*\S+\s+\/?\s*\S+/gi,_e.digits=/\b\d{4,}\b/g,_e.url=/([^\s:/?#]+):\/\/([^/?#\s]*)([^?#\s]*)(\?([^#\s]*))?(#([^\s]*))?/g;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.accountNumberPattern=Me.generalPatterns=void 0,Me.generalPatterns=/\b(i-|gh-|vpc-|arn:)\w+\b/gi,Me.accountNumberPattern=/\b\d{12}\b/,De.redact=function(t){try{Object.values(Me).forEach((e=>{t=t.replace(e,"")})),Object.values(_e).forEach((e=>{t=t.replace(e,"")}))}catch(t){(0,Ne.emitPanoramaCustomEvent)({eventSource:"panoramaInternal",eventType:"autoCaptureError",eventContext:"redact",eventDetail:t?t.toString():""})}return t},Object.defineProperty(Le,"redact",{enumerable:!0,get:function(){return De.redact}}),Object.defineProperty(Le,"emitPanoramaCustomEvent",{enumerable:!0,get:function(){return Ne.emitPanoramaCustomEvent}}),Object.defineProperty(Le,"isPanoramaEnabled",{enumerable:!0,get:function(){return Ne.isPanoramaEnabled}});const Be=new Set(["BUTTON","A","INPUT","SELECT","TEXTAREA"]),Ue=new Map([["button","Button Input"],["checkbox","Checkbox Input"],["color","Color Input"],["date","Date Input"],["datetime-local","Date Time Input"],["email","Email Input"],["file","File Input"],["hidden","Hidden Input"],["image","Image Input"],["month","Month Input"],["number","Number Input"],["password","Password Input"],["radio","Radio Input"],["range","Range Input"],["reset","Reset Input"],["search","Search Input"],["submit","Submit"],["tel","Telephone Input"],["text","Text Input"],["time","Time Input"],["url","Url Input"],["week","Week Input"]]);function Fe(t){return t.getAttribute("data-test-id")||t.getAttribute("data-testid")}function Ve(t){return t.id}function He(t){return t.getAttribute("name")}function je(t){switch(t.tagName){case"BUTTON":return"Button";case"A":return"Link";case"INPUT":return t.getAttribute("type")&&Ue.has(t.getAttribute("type"))?Ue.get(t.getAttribute("type")):"Input";case"SELECT":return t.multiple?"Multi Select":"Single Select";case"TEXTAREA":return"Text Area";default:return t.tagName}}function qe(t){return t.innerText?(0,Le.redact)(t.innerText):""}function We(t){const e=t.ariaLabel||t.title;return e?(0,Le.redact)(e):""}function ze(t){if(!t)return"";const e=Array.from(t||[]).map(qe).join("");return(0,Le.redact)(e)}function Ge(t,e){return!t||e>=5?null:Be.has(t.tagName)?t:Ge(t.parentElement,e+1)}function $e(t){return{autoCaptureIdentifier:Ve(t),autoCaptureTestIdentifier:Fe(t),autoCaptureName:He(t),autoCaptureType:je(t)}}function Je(t){return!!t&&("TABLE"===t.tagName||Je(t.parentElement))}function Xe(t){const e=Ge(t,0)||t;if(!e.parentElement)return{};switch(e.tagName){case"BUTTON":return{...$e(e),autoCaptureText:qe(e)||We(e)};case"A":return{...$e(e),autoCaptureText:Je(e)?null:qe(e)||We(e),autoCaptureTargetSrcUrl:e.href};case"INPUT":const t=e.labels;return{...$e(e),autoCaptureText:ze(t)||We(e)};case"SELECT":const n=e.labels;return{...$e(e),autoCaptureText:ze(n)||We(e)};case"TEXTAREA":const i=e.labels;return{...$e(e),autoCaptureText:ze(i)||We(e)};default:return{...$e(e)}}}function Qe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(t)try{const n=e.querySelector(t);if(null!=n&&n.textContent)return n.textContent}catch(t){I({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"extractTextContentFromTracker",eventDetail:t?t.toString():""})}return""}function Ke(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;try{let i;if(n.querySelectorAll("[data-analytics-substep]").length>0?i=n.querySelectorAll("[data-analytics-substep]"):n.querySelectorAll("[data-analytics-funnel-substep]").length>0&&(i=n.querySelectorAll("[data-analytics-funnel-substep]")),!i)return;i.forEach(((n,i)=>{n!==t||(e=i+1)}))}catch(t){I({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"extractSubStepNumberFromSelectorFromTracker",eventDetail:t?t.toString():""})}return e}function Ye(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;try{const n=e.querySelector('[data-analytics-funnel-key="step-name"]')||e.querySelector('[data-analytics-funnel-key="funnel-name"]')||document.querySelector('[data-analytics-funnel-key="step-name"]')||document.querySelector('[data-analytics-funnel-key="funnel-name"]');n&&(t=n.textContent)}catch(t){I({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"generateStepName",eventDetail:t?t.toString():""})}return t}function Ze(t){let e;try{const n=t.querySelector('[data-analytics-funnel-key="substep-name"]');n&&(e=n.textContent)}catch(t){I({eventSource:"panoramaInternal",eventType:"funnelInteractionError",eventContext:"generateSubStepName",eventDetail:t?t.toString():""})}return e}function tn(t){let e="";try{e=t.innerText,e.length>ct.MAX_FIELD_LENGTH&&(e=e.substring(0,ct.MAX_FIELD_LENGTH))}catch(t){I({eventSource:"panoramaInternal",eventType:"panoInnerTextError",eventContext:"extractAndTrimInnerText",eventDetail:t?t.toString():""})}return e}function en(t){let e=[],n=[],i={},r={};const o=[];let a={};try{a=Xe(t)}catch(t){I({eventSource:"panoramaInternal",eventType:"autoCaptureError",eventContext:"getAutoCaptureAttributes",eventDetail:t?t.toString():""})}for(e=[];t&&1==t.nodeType;t=t.parentNode){if(t.hasAttribute("data-analytics")){const e=t.getAttribute("data-analytics-type")?t.getAttribute("data-analytics-type"):"tag",r=t.getAttribute("data-analytics");n.unshift(`${e}(${r})`),e&&!i[e]&&(i[e]=r)}if(t.hasAttribute("data-analytics-label-selector")||t.hasAttribute("data-analytics-field-label-selector")||t.hasAttribute("data-analytics-field-label")){const e=Qe(t.getAttribute("data-analytics-label-selector")||t.getAttribute("data-analytics-field-label-selector")||t.getAttribute("data-analytics-field-label"),t.ownerDocument);r.fieldName=e}if(t.hasAttribute("data-analytics-error-selector")||t.hasAttribute("data-analytics-field-error-selector")||t.hasAttribute("data-analytics-field-error")){const e=Qe(t.getAttribute("data-analytics-error-selector")||t.getAttribute("data-analytics-field-error-selector")||t.getAttribute("data-analytics-field-error"),t.ownerDocument);r.fieldError=e}if(t.hasAttribute("data-analytics-substep-index")||t.hasAttribute("data-analytics-funnel-substep-index")){const e=t.getAttribute("data-analytics-substep-index")||t.hasAttribute("data-analytics-funnel-substep-index");r.subStepNumber=e;const n=Ze(t);n&&(r.subStepName=n)}if(t.hasAttribute("data-analytics-substep")||t.hasAttribute("data-analytics-funnel-substep")){const e=Ke(t,t.ownerDocument);e&&(r.subStepNumber=e);const n=Ze(t);n&&(r.subStepName=n)}if(t.hasAttribute("data-analytics-step-index")||t.hasAttribute("data-analytics-funnel-step-index")||t.hasAttribute("data-analytics-funnel-step")){const e=t.getAttribute("data-analytics-step-index")||t.getAttribute("data-analytics-funnel-step-index")||t.getAttribute("data-analytics-funnel-step");r.stepNumber=Number(e);const n=Ye(t.ownerDocument);n&&(r.stepName=n)}if(t.hasAttribute("data-analytics-funnel-interaction-id")){const e=t.getAttribute("data-analytics-funnel-interaction-id");r.funnelInteractionId=e}if(t.hasAttribute("data-analytics-component-type")||t.hasAttribute("data-analytics-field-component-type")){const e=t.getAttribute("data-analytics-component-type")||t.getAttribute("data-analytics-field-component-type");r.componentType=e}if(t.hasAttribute("data-analytics-flashbar")){const e=t.getAttribute("data-analytics-flashbar");r.flashType=e,i.eventContext=e,r.flashContent=(0,Le.redact)(tn(t))}if(t.hasAttribute("data-analytics-alert")){const e=t.getAttribute("data-analytics-alert");r.alertType=e,r.alertContent=(0,Le.redact)(tn(t))}if(t.hasAttribute("data-analytics-widget-id")){const e=t.getAttribute("data-analytics-widget-id");o.push(e)}if(t.hasAttribute("id")){var s=t.getAttribute("id");if(e.unshift(t.localName.toLowerCase()+'[@id="'+s+'"]'),"c"===s)break}else if(t.hasAttribute("class"))e.unshift(t.localName.toLowerCase()+'[@class="'+t.getAttribute("class")+'"]');else{let n,i=t.previousSibling;for(n=1;i;i=i.previousSibling)i.localName==t.localName&&n++;const r=n>1?`[${n-1}]`:"";e.unshift(t.localName.toLowerCase()+r)}}return{xpath:e.length?"/"+e.join("/"):"",analyticsPath:n.length>0?"/"+n.join("/"):"",analyticsData:i,widgetIds:o,eventInteractionMetaData:{...r,...a}}}var nn,rn,on,an={};rn=function(t){var e,n,i=pn(t),r=i[0],o=i[1],a=new hn(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),s=0,c=o>0?r-4:r;for(n=0;n<c;n+=4)e=un[t.charCodeAt(n)]<<18|un[t.charCodeAt(n+1)]<<12|un[t.charCodeAt(n+2)]<<6|un[t.charCodeAt(n+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;2===o&&(e=un[t.charCodeAt(n)]<<2|un[t.charCodeAt(n+1)]>>4,a[s++]=255&e);1===o&&(e=un[t.charCodeAt(n)]<<10|un[t.charCodeAt(n+1)]<<4|un[t.charCodeAt(n+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e);return a},on=function(t){for(var e,n=t.length,i=n%3,r=[],o=16383,a=0,s=n-i;a<s;a+=o)r.push(gn(t,a,a+o>s?s:a+o));1===i?(e=t[n-1],r.push(ln[e>>2]+ln[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(ln[e>>10]+ln[e>>4&63]+ln[e<<2&63]+"="));return r.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var sn,cn,ln=[],un=[],hn="undefined"!=typeof Uint8Array?Uint8Array:Array,dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mn=0,fn=dn.length;mn<fn;++mn)ln[mn]=dn[mn],un[dn.charCodeAt(mn)]=mn;function pn(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function gn(t,e,n){for(var i,r,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(ln[(r=i)>>18&63]+ln[r>>12&63]+ln[r>>6&63]+ln[63&r]);return o.join("")}un["-".charCodeAt(0)]=62,un["_".charCodeAt(0)]=63,sn=function(t,e,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?r-1:0,d=n?-1:1,m=t[e+h];for(h+=d,o=m&(1<<-u)-1,m>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,i),o-=l}return(m?-1:1)*a*Math.pow(2,o-i)},cn=function(t,e,n,i,r,o){var a,s,c,l=8*o-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,f=i?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*c-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+m]=255&s,m+=f,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+m]=255&a,m+=f,a/=256,l-=8);t[n+m-f]|=128*p};const vn="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;nn=bn;const yn=2147483647;function wn(t){if(t>yn)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,bn.prototype),e}function bn(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return Sn(t)}return En(t,e,n)}function En(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!bn.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|Pn(t,e);let i=wn(n);const r=i.write(t,e);r!==n&&(i=i.slice(0,r));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(si(t,Uint8Array)){const e=new Uint8Array(t);return An(e.buffer,e.byteOffset,e.byteLength)}return Tn(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(si(t,ArrayBuffer)||t&&si(t.buffer,ArrayBuffer))return An(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(si(t,SharedArrayBuffer)||t&&si(t.buffer,SharedArrayBuffer)))return An(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return bn.from(i,e,n);const r=function(t){if(bn.isBuffer(t)){const e=0|kn(t.length),n=wn(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||ci(t.length)?wn(0):Tn(t);if("Buffer"===t.type&&Array.isArray(t.data))return Tn(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return bn.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function Cn(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Sn(t){return Cn(t),wn(t<0?0:0|kn(t))}function Tn(t){const e=t.length<0?0:0|kn(t.length),n=wn(e);for(let i=0;i<e;i+=1)n[i]=255&t[i];return n}function An(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,bn.prototype),i}function kn(t){if(t>=yn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yn.toString(16)+" bytes");return 0|t}function Pn(t,e){if(bn.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||si(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return ri(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return oi(t).length;default:if(r)return i?-1:ri(t).length;e=(""+e).toLowerCase(),r=!0}}function In(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return jn(this,e,n);case"utf8":case"utf-8":return Un(this,e,n);case"ascii":return Vn(this,e,n);case"latin1":case"binary":return Hn(this,e,n);case"base64":return Bn(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qn(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function On(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Ln(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ci(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=bn.from(e,i)),bn.isBuffer(e))return 0===e.length?-1:Dn(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Dn(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function Dn(t,e,n,i,r){let o,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){let i=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===c)return i*a}else-1!==i&&(o-=o-i),i=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){let n=!0;for(let i=0;i<c;i++)if(l(t,o+i)!==l(e,i)){n=!1;break}if(n)return o}return-1}function Nn(t,e,n,i){n=Number(n)||0;const r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;const o=e.length;let a;for(i>o/2&&(i=o/2),a=0;a<i;++a){const i=parseInt(e.substr(2*a,2),16);if(ci(i))return a;t[n+a]=i}return a}function Rn(t,e,n,i){return ai(ri(e,t.length-n),t,n,i)}function xn(t,e,n,i){return ai(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function _n(t,e,n,i){return ai(oi(e),t,n,i)}function Mn(t,e,n,i){return ai(function(t,e){let n,i,r;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function Bn(t,e,n){return 0===e&&n===t.length?on(t):on(t.slice(e,n))}function Un(t,e,n){n=Math.min(t.length,n);const i=[];let r=e;for(;r<n;){const e=t[r];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(r+a<=n){let n,i,s,c;switch(a){case 1:e<128&&(o=e);break;case 2:n=t[r+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[r+1],i=t[r+2],128==(192&n)&&128==(192&i)&&(c=(15&e)<<12|(63&n)<<6|63&i,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[r+1],i=t[r+2],s=t[r+3],128==(192&n)&&128==(192&i)&&128==(192&s)&&(c=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),r+=a}return function(t){const e=t.length;if(e<=Fn)return String.fromCharCode.apply(String,t);let n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=Fn));return n}(i)}bn.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),bn.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(bn.prototype,"parent",{enumerable:!0,get:function(){if(bn.isBuffer(this))return this.buffer}}),Object.defineProperty(bn.prototype,"offset",{enumerable:!0,get:function(){if(bn.isBuffer(this))return this.byteOffset}}),bn.poolSize=8192,bn.from=function(t,e,n){return En(t,e,n)},Object.setPrototypeOf(bn.prototype,Uint8Array.prototype),Object.setPrototypeOf(bn,Uint8Array),bn.alloc=function(t,e,n){return function(t,e,n){return Cn(t),t<=0?wn(t):void 0!==e?"string"==typeof n?wn(t).fill(e,n):wn(t).fill(e):wn(t)}(t,e,n)},bn.allocUnsafe=function(t){return Sn(t)},bn.allocUnsafeSlow=function(t){return Sn(t)},bn.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==bn.prototype},bn.compare=function(t,e){if(si(t,Uint8Array)&&(t=bn.from(t,t.offset,t.byteLength)),si(e,Uint8Array)&&(e=bn.from(e,e.offset,e.byteLength)),!bn.isBuffer(t)||!bn.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},bn.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},bn.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return bn.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=bn.allocUnsafe(e);let r=0;for(n=0;n<t.length;++n){let e=t[n];if(si(e,Uint8Array))r+e.length>i.length?(bn.isBuffer(e)||(e=bn.from(e)),e.copy(i,r)):Uint8Array.prototype.set.call(i,e,r);else{if(!bn.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,r)}r+=e.length}return i},bn.byteLength=Pn,bn.prototype._isBuffer=!0,bn.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)On(this,e,e+1);return this},bn.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)On(this,e,e+3),On(this,e+1,e+2);return this},bn.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)On(this,e,e+7),On(this,e+1,e+6),On(this,e+2,e+5),On(this,e+3,e+4);return this},bn.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?Un(this,0,t):In.apply(this,arguments)},bn.prototype.toLocaleString=bn.prototype.toString,bn.prototype.equals=function(t){if(!bn.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===bn.compare(this,t)},bn.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},vn&&(bn.prototype[vn]=bn.prototype.inspect),bn.prototype.compare=function(t,e,n,i,r){if(si(t,Uint8Array)&&(t=bn.from(t,t.offset,t.byteLength)),!bn.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(o,a),c=this.slice(i,r),l=t.slice(e,n);for(let t=0;t<s;++t)if(c[t]!==l[t]){o=c[t],a=l[t];break}return o<a?-1:a<o?1:0},bn.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},bn.prototype.indexOf=function(t,e,n){return Ln(this,t,e,n,!0)},bn.prototype.lastIndexOf=function(t,e,n){return Ln(this,t,e,n,!1)},bn.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}const r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Nn(this,t,e,n);case"utf8":case"utf-8":return Rn(this,t,e,n);case"ascii":case"latin1":case"binary":return xn(this,t,e,n);case"base64":return _n(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mn(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},bn.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Fn=4096;function Vn(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function Hn(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function jn(t,e,n){const i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);let r="";for(let i=e;i<n;++i)r+=li[t[i]];return r}function qn(t,e,n){const i=t.slice(e,n);let r="";for(let t=0;t<i.length-1;t+=2)r+=String.fromCharCode(i[t]+256*i[t+1]);return r}function Wn(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function zn(t,e,n,i,r,o){if(!bn.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function Gn(t,e,n,i,r){ti(e,i,r,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function $n(t,e,n,i,r){ti(e,i,r,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function Jn(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Xn(t,e,n,i,r){return e=+e,n>>>=0,r||Jn(t,0,n,4),cn(t,e,n,i,23,4),n+4}function Qn(t,e,n,i,r){return e=+e,n>>>=0,r||Jn(t,0,n,8),cn(t,e,n,i,52,8),n+8}bn.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,bn.prototype),i},bn.prototype.readUintLE=bn.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||Wn(t,e,this.length);let i=this[t],r=1,o=0;for(;++o<e&&(r*=256);)i+=this[t+o]*r;return i},bn.prototype.readUintBE=bn.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||Wn(t,e,this.length);let i=this[t+--e],r=1;for(;e>0&&(r*=256);)i+=this[t+--e]*r;return i},bn.prototype.readUint8=bn.prototype.readUInt8=function(t,e){return t>>>=0,e||Wn(t,1,this.length),this[t]},bn.prototype.readUint16LE=bn.prototype.readUInt16LE=function(t,e){return t>>>=0,e||Wn(t,2,this.length),this[t]|this[t+1]<<8},bn.prototype.readUint16BE=bn.prototype.readUInt16BE=function(t,e){return t>>>=0,e||Wn(t,2,this.length),this[t]<<8|this[t+1]},bn.prototype.readUint32LE=bn.prototype.readUInt32LE=function(t,e){return t>>>=0,e||Wn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},bn.prototype.readUint32BE=bn.prototype.readUInt32BE=function(t,e){return t>>>=0,e||Wn(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},bn.prototype.readBigUInt64LE=ui((function(t){ei(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||ni(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,r=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(i)+(BigInt(r)<<BigInt(32))})),bn.prototype.readBigUInt64BE=ui((function(t){ei(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||ni(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],r=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)})),bn.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||Wn(t,e,this.length);let i=this[t],r=1,o=0;for(;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},bn.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||Wn(t,e,this.length);let i=e,r=1,o=this[t+--i];for(;i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},bn.prototype.readInt8=function(t,e){return t>>>=0,e||Wn(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},bn.prototype.readInt16LE=function(t,e){t>>>=0,e||Wn(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},bn.prototype.readInt16BE=function(t,e){t>>>=0,e||Wn(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},bn.prototype.readInt32LE=function(t,e){return t>>>=0,e||Wn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},bn.prototype.readInt32BE=function(t,e){return t>>>=0,e||Wn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},bn.prototype.readBigInt64LE=ui((function(t){ei(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||ni(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),bn.prototype.readBigInt64BE=ui((function(t){ei(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||ni(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),bn.prototype.readFloatLE=function(t,e){return t>>>=0,e||Wn(t,4,this.length),sn(this,t,!0,23,4)},bn.prototype.readFloatBE=function(t,e){return t>>>=0,e||Wn(t,4,this.length),sn(this,t,!1,23,4)},bn.prototype.readDoubleLE=function(t,e){return t>>>=0,e||Wn(t,8,this.length),sn(this,t,!0,52,8)},bn.prototype.readDoubleBE=function(t,e){return t>>>=0,e||Wn(t,8,this.length),sn(this,t,!1,52,8)},bn.prototype.writeUintLE=bn.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){zn(this,t,e,n,Math.pow(2,8*n)-1,0)}let r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},bn.prototype.writeUintBE=bn.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){zn(this,t,e,n,Math.pow(2,8*n)-1,0)}let r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},bn.prototype.writeUint8=bn.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,1,255,0),this[e]=255&t,e+1},bn.prototype.writeUint16LE=bn.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},bn.prototype.writeUint16BE=bn.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},bn.prototype.writeUint32LE=bn.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},bn.prototype.writeUint32BE=bn.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},bn.prototype.writeBigUInt64LE=ui((function(t,e=0){return Gn(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),bn.prototype.writeBigUInt64BE=ui((function(t,e=0){return $n(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),bn.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);zn(this,t,e,n,i-1,-i)}let r=0,o=1,a=0;for(this[e]=255&t;++r<n&&(o*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+n},bn.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);zn(this,t,e,n,i-1,-i)}let r=n-1,o=1,a=0;for(this[e+r]=255&t;--r>=0&&(o*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+n},bn.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},bn.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},bn.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},bn.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},bn.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||zn(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},bn.prototype.writeBigInt64LE=ui((function(t,e=0){return Gn(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),bn.prototype.writeBigInt64BE=ui((function(t,e=0){return $n(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),bn.prototype.writeFloatLE=function(t,e,n){return Xn(this,t,e,!0,n)},bn.prototype.writeFloatBE=function(t,e,n){return Xn(this,t,e,!1,n)},bn.prototype.writeDoubleLE=function(t,e,n){return Qn(this,t,e,!0,n)},bn.prototype.writeDoubleBE=function(t,e,n){return Qn(this,t,e,!1,n)},bn.prototype.copy=function(t,e,n,i){if(!bn.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const r=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},bn.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!bn.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{const o=bn.isBuffer(t)?t:bn.from(t,i),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=o[r%a]}return this};const Kn={};function Yn(t,e,n){Kn[t]=class extends n{get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}}}function Zn(t){let e="",n=t.length;const i="-"===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function ti(t,e,n,i,r,o){if(t>n||t<e){const i="bigint"==typeof e?"n":"";let r;throw r=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(o+1)}${i}`:`>= -(2${i} ** ${8*(o+1)-1}${i}) and < 2 ** ${8*(o+1)-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new Kn.ERR_OUT_OF_RANGE("value",r,t)}!function(t,e,n){ei(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||ni(e,t.length-(n+1))}(i,r,o)}function ei(t,e){if("number"!=typeof t)throw new Kn.ERR_INVALID_ARG_TYPE(e,"number",t)}function ni(t,e,n){if(Math.floor(t)!==t)throw ei(t,n),new Kn.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new Kn.ERR_BUFFER_OUT_OF_BOUNDS;throw new Kn.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}Yn("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Yn("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),Yn("ERR_OUT_OF_RANGE",(function(t,e,n){let i=`The value of "${t}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=Zn(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=Zn(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i}),RangeError);const ii=/[^+/0-9A-Za-z-_]/g;function ri(t,e){let n;e=e||1/0;const i=t.length;let r=null;const o=[];for(let a=0;a<i;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function oi(t){return rn(function(t){if((t=(t=t.split("=")[0]).trim().replace(ii,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function ai(t,e,n,i){let r;for(r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function si(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function ci(t){return t!=t}const li=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let r=0;r<16;++r)e[i+r]=t[n]+t[r]}return e}();function ui(t){return"undefined"==typeof BigInt?hi:t}function hi(){throw new Error("BigInt not supported")}var di,mi,fi,pi,gi=nn;di=r("3LZM1"),mi=r("3hKrT").utf8,fi=r("3hKrT").bin,(pi=function(t,e){var n=di.wordsToBytes(function(t){t.constructor==String?t=mi.stringToBytes(t):void 0!==gi&&"function"==typeof gi.isBuffer&&gi.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var e=di.bytesToWords(t),n=8*t.length,i=[],r=1732584193,o=-271733879,a=-1732584194,s=271733878,c=-1009589776;e[n>>5]|=128<<24-n%32,e[15+(n+64>>>9<<4)]=n;for(var l=0;l<e.length;l+=16){for(var u=r,h=o,d=a,m=s,f=c,p=0;p<80;p++){if(p<16)i[p]=e[l+p];else{var g=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=g<<1|g>>>31}var v=(r<<5|r>>>27)+c+(i[p]>>>0)+(p<20?1518500249+(o&a|~o&s):p<40?1859775393+(o^a^s):p<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514);c=s,s=a,a=o<<30|o>>>2,o=r,r=v}r+=u,o+=h,a+=d,s+=m,c+=f}return[r,o,a,s,c]}(t));return e&&e.asBytes?n:e&&e.asString?fi.bytesToString(n):di.bytesToHex(n)})._blocksize=16,pi._digestsize=20,an=pi;class vi{addPlugins(t){for(let e=0;e<t.length;e++){const n=t[e];this.addPlugin(n)}}addPlugin(t){const e=an(t.setup.toString());this.pluginStore[e]={name:t.name,plugin:t,enabled:!1,fingerprint:e}}removePlugin(t){const e=an(t.setup.toString());delete this.pluginStore[e]}enablePlugin(t){t.setup();const e=an(t.setup.toString());this.pluginStore[e].enabled=!0}disablePlugin(t){t.teardown();const e=an(t.setup.toString());this.pluginStore[e].enabled=!1}attachTracker(t){for(let t in this.pluginStore)if(this.pluginStore.hasOwnProperty(t)){const e=this.pluginStore[t];this.enablePlugin(e.plugin)}}constructor(t){e(o)(this,"pluginStore",{}),e(o)(this,"tracker",void 0),e(o)(this,"listPlugins",(()=>{let t={};return Object.keys(this.pluginStore).forEach(((e,n)=>{t[this.pluginStore[e].name]=this.pluginStore[e].plugin})),t})),e(o)(this,"getPlugin",(t=>this.listPlugins()[t])),Object.assign(this,t)}}const{CLOG_METRICS_TO_IGNORE:yi}=ct;class wi{getName(){return this.name}setup(){if(this.tracker&&!this.tracker.isConsole)return;const t=window;this.enabled=!0,t.panorama&&(t.panorama.clogEnabled=!0),this.emitBufferedEvents();const e=document.createEvent("CustomEvent");e.initCustomEvent("onClogPluginLoad",!0,!0,{enabled:!0}),window.dispatchEvent(e)}teardown(){this.enabled=!1;const t=window;t.panorama&&(t.panorama.clogEnabled=!1)}emitBufferedEvents(){const t=window;let e=[];if(t.AWSC&&t.AWSC.Clog&&t.AWSC.Clog.bufferedQueue&&t.AWSC.Clog.bufferedQueue.length>0){e=t.AWSC.Clog.bufferedQueue,t.AWSC.Clog.bufferedQueue=[];for(let t=0;t<e.length;t++){const n=e[t].metric,i=e[t].ts;yi.indexOf(n.key)>=0||this.tracker.trackCustomEvent({eventSource:"clog",eventName:n.key,eventContext:JSON.stringify({pageId:n.pageId,unit:n.unit,metricType:n.metricType,logLevel:n.logLevel}),eventDetail:n.detail||"",eventValue:"0"==n.value?"0":n.value,timestamp:i})}e=[]}}constructor(t){e(o)(this,"name","ClogPlugin"),e(o)(this,"enabled",!1),e(o)(this,"tracker",void 0),Object.assign(this,t)}}class bi{getName(){return this.name}setup(){this.enabled=!0,window.addEventListener("error",this.errorHandler)}teardown(){this.enabled&&(this.enabled=!1,window.removeEventListener("error",this.errorHandler))}constructor(t){e(o)(this,"name","StacktracePlugin"),e(o)(this,"enabled",!1),e(o)(this,"errorsToIgnore",["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications."]),e(o)(this,"tracker",void 0),e(o)(this,"buildErrorObject",(t=>{const e={};return t.message&&(e.message=t.message),t.filename&&(e.filename=t.filename),t.lineno&&(e.lineno=t.lineno),void 0!==t.colno&&(e.colno=t.colno),t.error&&t.error.stack&&(e.error=t.error.stack),e})),e(o)(this,"isExtensionError",(t=>{try{return/eval|debugger|[a-zA-Z]*-extension/i.test(t)}catch(t){return!1}})),e(o)(this,"isErrorToIgnore",(t=>{try{return this.errorsToIgnore.indexOf(t)>=0}catch(t){return!1}})),e(o)(this,"errorHandler",(t=>{this.isExtensionError(t.filename)||this.isErrorToIgnore(t.message)||this.tracker.trackOperationalEvents({metricList:[{metricName:"clientError",metricValue:1,metricDetails:JSON.stringify(this.buildErrorObject(t))}]})})),Object.assign(this,t)}}class Ei{getName(){return this.name}setup(){if(window.performance){try{this.navigationObserver=new PerformanceObserver((t=>{t.getEntries().forEach((t=>{if(t.entryType===ct.NAVIGATION){const e=t.domContentLoadedEventEnd,n=t.duration;this.logPageLoadTime(n),this.logDOMContentLoadedTime(e),t.transferSize&&t.transferSize>0&&this.logDocumentSize(t.transferSize)}}))})),this.navigationObserver.observe({entryTypes:[ct.NAVIGATION]})}catch(t){0===window.performance.timing.domContentLoadedEventEnd?document.addEventListener("DOMContentLoaded",(()=>{this.logDOMContentLoadedTime()})):this.logDOMContentLoadedTime(),0===window.performance.timing.loadEventEnd?window.addEventListener("load",(()=>{this.logPageLoadTime()})):this.logPageLoadTime()}if(window.PerformanceObserver&&this.DETAILED_PERFORMANCE_METRICS){new PerformanceObserver((t=>{t.getEntries().forEach((t=>{switch(t.entryType){case"paint":"first-paint"!==t.name&&"first-contentful-paint"!==t.name||this.logPerformanceDetail(t,t.startTime);break;case"longtask":this.logPerformanceDetail(t,t.duration);break;case"first-input":const e=t.processingStart-t.startTime;e>this.FID_THRESHOLD&&this.logPerformanceDetail(t,e);break;case"frame":t.duration>this.FRAME_THRESHOLD&&this.logPerformanceDetail(t,t.duration);break;case"resource":t.duration>this.RESOURCE_THRESHOLD&&this.logPerformanceDetail(t,t.duration)}}))})).observe({entryTypes:["paint","frame","longtask","resource","first-input"],buffered:!0})}this.enabled=!0}}teardown(){var t,e;this.enabled&&(document.removeEventListener("DOMContentLoaded",(()=>this.logDOMContentLoadedTime)),window.removeEventListener("load",(()=>this.logPageLoadTime)),null===(t=this.navigationObserver)||void 0===t||null===(e=t.disconnect)||void 0===e||e.call(t),this.enabled=!1)}constructor(t){var n=this;e(o)(this,"name","PerformancePlugin"),e(o)(this,"enabled",!1),e(o)(this,"tracker",void 0),e(o)(this,"DETAILED_PERFORMANCE_METRICS",void 0),e(o)(this,"MAX_MEASURE_TIME",void 0),e(o)(this,"FID_THRESHOLD",void 0),e(o)(this,"FRAME_THRESHOLD",void 0),e(o)(this,"RESOURCE_THRESHOLD",void 0),e(o)(this,"navigationObserver",null),e(o)(this,"eventType","performance"),e(o)(this,"logDOMContentLoadedTime",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;const e=Math.round(t);n.tracker.trackCustomEvent({eventSource:"panorama",eventType:"performance",eventContext:"pageLoad",eventValue:e,timestamp:Date.now()}),n.tracker.trackOperationalEvents({metricList:[{metricName:"domContentLoadedTime",metricValue:e,metricUnit:"Milliseconds"}]},void 0,n.eventType)})),e(o)(this,"logPageLoadTime",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.performance.timing.loadEventEnd-window.performance.timing.navigationStart;n.tracker.trackOperationalEvents({metricList:[{metricName:"pageLoadTime",metricValue:Math.round(t),metricUnit:"Milliseconds",metricDetails:JSON.stringify({rawPerformance:window.performance})}]},void 0,n.eventType)})),e(o)(this,"logDocumentSize",(t=>{this.tracker.trackOperationalEvents({metricList:[{metricName:"pageLoadDocumentSize",metricValue:Math.round(t/1e3),metricUnit:"Kilobytes"}]},void 0,this.eventType)})),e(o)(this,"logPerformanceDetail",((t,e)=>{e>this.MAX_MEASURE_TIME||this.tracker.trackCustomEvent({eventSource:"panorama",eventType:`performanceDetail.${t.entryType}`,eventContext:t.name,eventDetail:JSON.stringify(t),eventValue:e,timestamp:Date.now()})})),Object.assign(this,t)}}class Ci{getName(){return this.name}setup(){this.enabled=!0,"SecurityPolicyViolationEvent"in window&&(window.addEventListener?window.addEventListener("securitypolicyviolation",this.cspCallback,!1):window.attachEvent&&window.attachEvent("securitypolicyviolation",this.cspCallback,!1))}teardown(){this.enabled&&(window.removeEventListener?window.removeEventListener("securitypolicyviolation",this.cspCallback):window.detachEvent&&window.detachEvent("securitypolicyviolation",this.cspCallback),this.enabled=!1)}constructor(t){e(o)(this,"name","CSPErrorHandlerPlugin"),e(o)(this,"enabled",!1),e(o)(this,"tracker",void 0),e(o)(this,"buildErrorObject",(t=>{const e={};return t.blockedURI&&(e.blockedURI=t.blockedURI),t.violatedDirective&&(e.violatedDirective=t.violatedDirective),t.originalPolicy&&(e.originalPolicy=t.originalPolicy),t.disposition&&(e.disposition=t.disposition),t.columnNumber&&(e.columnNumber=t.columnNumber),t.documentURI&&(e.documentURI=t.documentURI),t.effectiveDirective&&(e.effectiveDirective=t.effectiveDirective),t.lineNumber&&(e.lineNumber=t.lineNumber),t.referrer&&(e.referrer=t.referrer),t.sample&&(e.sample=t.sample),t.sourceFile&&(e.sourceFile=t.sourceFile),t.statusCode&&(e.statusCode=t.statusCode),e})),e(o)(this,"cspCallback",(t=>{const e=this.buildErrorObject(t);this.tracker.trackOperationalEvents({metricList:[{metricName:"clientCspError",metricValue:1,metricDetails:JSON.stringify(e)}]})})),Object.assign(this,t)}}const Si="[data-analytics-render]:not([data-analytics-processed])",Ti="[data-analytics-alert]",Ai="[data-analytics-flashbar]";class ki{getName(){return this.name}setup(){if(!window.MutationObserver)return;this.observer=new MutationObserver(Ie(this.handleMutation,1e3)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),this.enabled=!0}teardown(){this.observer.disconnect(),this.enabled=!1}constructor(t){e(o)(this,"name","ContextPlugin"),e(o)(this,"observer",void 0),e(o)(this,"enabled",!1),e(o)(this,"tracker",void 0),e(o)(this,"isElementVisible",(t=>{try{const{visibility:e,display:n}=window.getComputedStyle(t);return"visible"===e&&"none"!==n&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}catch(t){I({eventSource:"panoramaInternal",eventType:"handleMutationError",eventContext:"isElementVisible",eventDetail:t?t.toString():""})}return!0})),e(o)(this,"isNodeAlreadyProcessed",((t,e)=>{try{if(!t.hasAttribute("data-analytics-processed"))return!1;const n=t.getAttribute("data-analytics-processed");return n===t.getAttribute(e)}catch(t){I({eventSource:"panoramaInternal",eventType:"handleMutationError",eventContext:"isNodeAlreadyProcessed",eventDetail:t?t.toString():""})}return!0})),e(o)(this,"handleMutation",(()=>{if(null!==document.querySelector(Si)){const t=document.querySelectorAll(Si);for(let e=0;e<t.length;e++){const n=t[e];n.setAttribute("data-analytics-processed","true");const i=en(n),r={eventSource:Tt,eventType:"render",eventPath:i.analyticsPath,contentId:i.xpath,eventValue:"1",eventDetail:"",timestamp:Date.now(),widgetIds:i.widgetIds?i.widgetIds:void 0};Object.assign(r,i.analyticsData),this.tracker.trackCustomEvent(r)}}if(null!==document.querySelector(Ti)){const t=document.querySelectorAll(Ti);for(let e=0;e<t.length;e++){const n=t[e];if(!this.isElementVisible(n)||this.isNodeAlreadyProcessed(n,"data-analytics-alert"))continue;const i=n.getAttribute("data-analytics-alert")||"true";n.setAttribute("data-analytics-processed",i);const r=en(n),o={eventSource:Tt,eventType:"pano_alert",eventPath:r.analyticsPath,eventInteractionMetaData:r.eventInteractionMetaData,contentId:r.xpath,eventValue:"1",eventContext:i,eventDetail:"",timestamp:Date.now()};Object.assign(o,r.analyticsData),this.tracker.trackCustomEvent(o)}}if(null!==document.querySelector(Ai)){const t=document.querySelectorAll(Ai);for(let e=0;e<t.length;e++){const n=t[e];if(!this.isElementVisible(n)||this.isNodeAlreadyProcessed(n,"data-analytics-flashbar"))continue;const i=n.getAttribute("data-analytics-flashbar")||"true";n.setAttribute("data-analytics-processed",i);const r=en(n);let{analyticsPath:o,eventInteractionMetaData:a,xpath:s,analyticsData:c}=r;const l=document.querySelector("[data-analytics-funnel-interaction-id]");if(l){const t=l.getAttribute("data-analytics-funnel-interaction-id");a={...a,funnelInteractionId:t}}const u={eventSource:Tt,eventType:"pano_flashbar",eventPath:o,eventInteractionMetaData:a,contentId:s,eventValue:"1",eventDetail:"",timestamp:Date.now()};Object.assign(u,c),this.tracker.trackCustomEvent(u)}}})),Object.assign(this,t)}}const Pi=(t,e)=>{void 0===e.retries&&(e.retries=3),void 0===e.waitTime&&(e.waitTime=1e3);let n=!1,i=0,r=0;const o=()=>{if(t())return e.onTrue&&(e.onTrue(),n=!0),void(r&&window.clearInterval(r));e.onFalse&&e.onFalse(),i++,e.retries&&i>e.retries&&r&&window.clearInterval(r)};o(),n||(r=window.setInterval(o,e.waitTime))};class Ii{getName(){return this.name}setup(){this.getRegionAndService(),this.enabled=!0}teardown(){this.enabled=!1}constructor(t){e(o)(this,"name","ConsoleParametersPlugin"),e(o)(this,"enabled",!1),e(o)(this,"tracker",void 0),e(o)(this,"getRegionServiceFromUrl",(()=>{let t="";const e=window.location.href,n=Ot.exec(e),i=gt(e);i&&(t=i);return{region:t,service:n&&n[2]?n[2]:""}})),e(o)(this,"getRegionAndService",(()=>{let t,e,n;pt(this.tracker.argmap)?Pi((()=>window.ConsoleNavService),{retries:10,onTrue:()=>{if(t=window.ConsoleNavService.Model.currentRegionId,e=window.ConsoleNavService.Model.currentService.id,!t){const e=vt("awsc-mezz-region");e&&(t=e)}if(!e){const t=vt("awsc-mezz-service");t&&(e=t)}this.tracker.updateRegionAndService({region:t,service:e})},onFalse:()=>{n=this.getRegionServiceFromUrl(),this.tracker.updateRegionAndService({region:n.region,service:n.service})}}):(n=this.getRegionServiceFromUrl(),e=h(this.tracker,"argmap","service")?this.tracker.argmap.service:n.service,t=h(this.tracker,"argmap","region")?this.tracker.argmap.region:n.region,this.tracker.updateRegionAndService({region:t,service:e}))})),Object.assign(this,t)}}var Oi,Li,Di,Ni,Ri,xi=-1,_i=function(t){addEventListener("pageshow",(function(e){e.persisted&&(xi=e.timeStamp,t(e))}),!0)},Mi=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Bi=function(){var t=Mi();return t&&t.activationStart||0},Ui=function(t,e){var n=Mi(),i="navigate";return xi>=0?i="back-forward-cache":n&&(i=document.prerendering||Bi()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Fi=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var i=new PerformanceObserver((function(t){e(t.getEntries())}));return i.observe(Object.assign({type:t,buffered:!0},n||{})),i}}catch(t){}},Vi=function(t,e){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Hi=function(t,e,n,i){var r,o;return function(a){e.value>=0&&(a||i)&&((o=e.value-(r||0))||void 0===r)&&(r=e.value,e.delta=o,e.rating=function(t,e){return t>e[1]?"poor":t>e[0]?"needs-improvement":"good"}(e.value,n),t(e))}},ji=-1,qi=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Wi=function(){Vi((function(t){var e=t.timeStamp;ji=e}),!0)},zi=function(){return ji<0&&(ji=qi(),Wi(),_i((function(){setTimeout((function(){ji=qi(),Wi()}),0)}))),{get firstHiddenTime(){return ji}}},Gi=function(t,e){e=e||{};var n,i=[1800,3e3],r=zi(),o=Ui("FCP"),a=function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(c&&c.disconnect(),t.startTime<r.firstHiddenTime&&(o.value=t.startTime-Bi(),o.entries.push(t),n(!0)))}))},s=window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName("first-contentful-paint")[0],c=s?null:Fi("paint",a);(s||c)&&(n=Hi(t,o,i,e.reportAllChanges),s&&a([s]),_i((function(r){o=Ui("FCP"),n=Hi(t,o,i,e.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,n(!0)}))}))})))},$i=!1,Ji=-1,Xi=function(t,e){e=e||{};var n=[.1,.25];$i||(Gi((function(t){Ji=t.value})),$i=!0);var i,r=function(e){Ji>-1&&t(e)},o=Ui("CLS",0),a=0,s=[],c=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=s[0],n=s[s.length-1];a&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(a+=t.value,s.push(t)):(a=t.value,s=[t]),a>o.value&&(o.value=a,o.entries=s,i())}}))},l=Fi("layout-shift",c);l&&(i=Hi(r,o,n,e.reportAllChanges),Vi((function(){c(l.takeRecords()),i(!0)})),_i((function(){a=0,Ji=-1,o=Ui("CLS",0),i=Hi(r,o,n,e.reportAllChanges)})))},Qi={passive:!0,capture:!0},Ki=new Date,Yi=function(t,e){Oi||(Oi=e,Li=t,Di=new Date,er(removeEventListener),Zi())},Zi=function(){if(Li>=0&&Li<Di-Ki){var t={entryType:"first-input",name:Oi.type,target:Oi.target,cancelable:Oi.cancelable,startTime:Oi.timeStamp,processingStart:Oi.timeStamp+Li};Ni.forEach((function(e){e(t)})),Ni=[]}},tr=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var n=function(){Yi(t,e),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,Qi),removeEventListener("pointercancel",i,Qi)};addEventListener("pointerup",n,Qi),addEventListener("pointercancel",i,Qi)}(e,t):Yi(e,t)}},er=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,tr,Qi)}))},nr=function(t,e){e=e||{};var n,i=[100,300],r=zi(),o=Ui("FID"),a=function(t){t.startTime<r.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))},s=function(t){t.forEach(a)},c=Fi("first-input",s);n=Hi(t,o,i,e.reportAllChanges),c&&Vi((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&_i((function(){var r;o=Ui("FID"),n=Hi(t,o,i,e.reportAllChanges),Ni=[],Li=-1,Oi=null,er(addEventListener),r=a,Ni.push(r),Zi()}))},ir=0,rr=1/0,or=0,ar=function(t){t.forEach((function(t){t.interactionId&&(rr=Math.min(rr,t.interactionId),or=Math.max(or,t.interactionId),ir=or?(or-rr)/7+1:0)}))},sr=function(){return Ri?ir:performance.interactionCount||0},cr=0,lr=function(){return sr()-cr},ur=[],hr={},dr=function(t){var e=ur[ur.length-1],n=hr[t.interactionId];if(n||ur.length<10||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{var i={id:t.interactionId,latency:t.duration,entries:[t]};hr[i.id]=i,ur.push(i)}ur.sort((function(t,e){return e.latency-t.latency})),ur.splice(10).forEach((function(t){delete hr[t.id]}))}},mr=function(t,e){e=e||{};var n=[200,500];"interactionCount"in performance||Ri||(Ri=Fi("event",ar,{type:"event",buffered:!0,durationThreshold:0}));var i,r=Ui("INP"),o=function(t){t.forEach((function(t){t.interactionId&&dr(t),"first-input"===t.entryType&&!ur.some((function(e){return e.entries.some((function(e){return t.duration===e.duration&&t.startTime===e.startTime}))}))&&dr(t)}));var e,n=(e=Math.min(ur.length-1,Math.floor(lr()/50)),ur[e]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())},a=Fi("event",o,{durationThreshold:e.durationThreshold||40});i=Hi(t,r,n,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Vi((function(){o(a.takeRecords()),r.value<0&&lr()>0&&(r.value=0,r.entries=[]),i(!0)})),_i((function(){ur=[],cr=sr(),r=Ui("INP"),i=Hi(t,r,n,e.reportAllChanges)})))},fr={},pr=function(t,e){e=e||{};var n,i=[2500,4e3],r=zi(),o=Ui("LCP"),a=function(t){var e=t[t.length-1];if(e){var i=e.startTime-Bi();i<r.firstHiddenTime&&(o.value=i,o.entries=[e],n())}},s=Fi("largest-contentful-paint",a);if(s){n=Hi(t,o,i,e.reportAllChanges);var c=function(){fr[o.id]||(a(s.takeRecords()),s.disconnect(),fr[o.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,c,{once:!0,capture:!0})})),Vi(c,!0),_i((function(r){o=Ui("LCP"),n=Hi(t,o,i,e.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,fr[o.id]=!0,n(!0)}))}))}))}},gr=function t(e){document.prerendering?addEventListener("prerenderingchange",(function(){return t(e)}),!0):"complete"!==document.readyState?addEventListener("load",(function(){return t(e)}),!0):setTimeout(e,0)},vr=function(t,e){e=e||{};var n=[800,1800],i=Ui("TTFB"),r=Hi(t,i,n,e.reportAllChanges);gr((function(){var o=Mi();if(o){if(i.value=Math.max(o.responseStart-Bi(),0),i.value<0||i.value>performance.now())return;i.entries=[o],r(!0),_i((function(){i=Ui("TTFB",0),(r=Hi(t,i,n,e.reportAllChanges))(!0)}))}}))};class yr{getName(){return this.name}getNavigationStart(){return window.performance&&window.performance.timeOrigin?Math.round(performance.timeOrigin):window.performance.timing.navigationStart}getNavigationStartDelta(t){try{const e=t-this.getNavigationStart();return e>0?e:0}catch{return 0}}logFrameWebVitals(t){const{frameMetaData:{id:e="",name:n="",identifier:i="",navigationStart:r=this.getNavigationStart(),src:o=""}={},metric:{delta:a,name:s}={}}=t;if(a&&s&&this.validFrameWebVitals[s]){let c=this.validFrameWebVitals[s],l="CLS"===s?1e3*a:a,u="CrossFrameNavInteraction"===s;"LCP"!==s||this.isFrameLCPEmitted?"FCP"===s?(this.isFrameFCPEmitted||(l+=this.getNavigationStartDelta(r),c=`PageLoad${this.validFrameWebVitals[s]}`),this.isFrameFCPEmitted=!0):u&&!this.isFrameLCPEmitted&&(l=this.webVitalLCPValue||0,c=`PageLoad${this.validFrameWebVitals.LCP}`,this.isFrameLCPEmitted=!0):(l+=this.getNavigationStartDelta(r),c=`PageLoad${this.validFrameWebVitals[s]}`,this.isFrameLCPEmitted=!0);let h={frameId:e,frameName:n,frameSrc:o,frameDuration:"CLS"===s?1e3*a:a,frameIdentifier:i};if(("LCP"===s||u)&&t.frameMetaData.element&&(h.element=t.frameMetaData.element),("LCP"===s||u)&&c.startsWith("PageLoad")&&void 0===this.webVitalLCPValue){setTimeout((()=>{void 0!==this.webVitalLCPValue&&(u&&(h.crossFrameNavDelta=a),this.tracker.trackOperationalEvents({metricList:[{metricName:c,metricValue:u?this.webVitalLCPValue:l,metricUnit:"Milliseconds",metricDetails:JSON.stringify(h)}]},void 0,this.eventType))}),u?200:1e4)}else this.tracker.trackOperationalEvents({metricList:[{metricName:c,metricValue:l,metricUnit:"CLS"===s?void 0:"Milliseconds",metricDetails:JSON.stringify(h)}]},void 0,this.eventType)}}setupFrameMessageListeners(){y(window,"message",(t=>{const{data:e}=t;e&&e.event_id&&"iFrame_Panorama_WebVital"===e.event_id&&this.logFrameWebVitals(e)}))}getLcpFromChildFrames(){document.querySelectorAll("iframe").forEach((t=>{try{const e=t.contentWindow;null==e||e.eval('\n                    const isSupported = window.PerformanceObserver && typeof window.PerformanceObserver === "function";\n                    if (isSupported) {\n                        const frameObserver = new PerformanceObserver(list => {\n                            const entries = list.getEntries();\n                            // we will only use latest LCP entry for calculation\n                            const latestLcpEntry = entries[entries.length - 1];\n                            // get current Frame element\n                            const currentFrame = window.frameElement;\n                            // emit a metric to parent window Panorama object\n                            if (window.top.panorama && typeof window.top.panorama === "function") {\n                                window.top.panorama("trackOperationalEvents", {\n                                    metricList: [\n                                        {\n                                            metricName: "frameLargestContentfulPaint",\n                                            metricValue: Math.round(latestLcpEntry.startTime),\n                                            metricUnit: "Milliseconds",\n                                            metricDetails: JSON.stringify({\n                                                frameId: currentFrame.id || "",\n                                                frameName: currentFrame.name || "",\n                                                frameSrc: currentFrame.src || ""\n                                            })\n                                        },\n                                    ]\n                                })\n                            }\n                        })\n                        // observe only for LCP event\n                        frameObserver.observe({ type: "largest-contentful-paint", buffered: true });\n                    }\n                ')}catch(e){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"frameLcpError",eventContext:JSON.stringify({frameId:t.id||"",frameName:t.name||"",frameSrc:t.src||""}),eventDetail:e?e.toString():"",eventValue:"1",timestamp:Date.now()})}}))}setup(){this.enabled=!0,this.logWebVital&&this.logWebVital instanceof Function&&(Xi(this.logWebVital,{reportAllChanges:!0}),nr(this.logWebVital),pr(this.logWebVital),Gi(this.logWebVital),vr(this.logWebVital),mr(this.logWebVital)),this.tracker.service&&["cw","ec2","vpc","vpcconsole"].includes(this.tracker.service)&&(this.getLcpFromChildFrames(),this.setupFrameMessageListeners())}teardown(){this.enabled=!1}constructor(t){e(o)(this,"name","WebVitalsPlugin"),e(o)(this,"enabled",!1),e(o)(this,"eventType","performance"),e(o)(this,"isFrameLCPEmitted",!1),e(o)(this,"isFrameFCPEmitted",!1),e(o)(this,"webVitalLCPValue",void 0),e(o)(this,"tracker",void 0),e(o)(this,"validWebVitals",{CLS:"cumulativeLayoutShift",FCP:"firstContentfulPaint",FID:"firstInputDelay",LCP:"largestContentfulPaint",TTFB:"timeToFirstByte",INP:"interactionToNextPaint"}),e(o)(this,"validFrameWebVitals",{CLS:"iFrameCumulativeLayoutShift",FCP:"iFrameFirstContentfulPaint",FID:"iFrameFirstInputDelay",LCP:"iFrameLargestContentfulPaint",TTFB:"iFrameTimeToFirstByte",INP:"iFrameInteractionToNextPaint",CrossFrameNavInteraction:"iFrameLargestContentfulPaint"}),e(o)(this,"isPlatformAsset",((t,e)=>{try{if(["script","link"].includes(e)){const n="script"===e?`script[src="${t}"]`:`link[href="${t}"]`,i=document.querySelector(n);if(i)return i.hasAttribute("data-platform-asset")}}catch(n){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"isPlatformAsset",eventContext:JSON.stringify({assetName:t||"",assetType:e||""}),eventDetail:n?n.toString():"",eventValue:"1",timestamp:Date.now()})}return!1})),e(o)(this,"getPlatformAssetOwner",((t,e)=>{try{const n="script"===e?`script[src="${t}"]`:`link[href="${t}"]`,i=document.querySelector(n);if(i)return i.getAttribute("data-platform-asset")||""}catch(n){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"getPlatformAssetOwner",eventContext:JSON.stringify({assetName:t||"",assetType:e||""}),eventDetail:n?n.toString():"",eventValue:"1",timestamp:Date.now()})}return""})),e(o)(this,"logWebVital",(t=>{let{name:e,delta:n,entries:i}=t,r="";try{if("LCP"===e&&i&&i.length)i.forEach((t=>{let{startTime:e,element:i}=t;e===n&&i&&(r=JSON.stringify({elementType:i.tagName,elementIdentifier:i.id,elementText:i.textContent?i.textContent.substring(0,50):""}))}));else if("INP"===e&&i&&i.length){const t=[];i.forEach((e=>{let{entryType:n,duration:i,name:r,target:o}=e;t.push({entryType:n,duration:i,entryName:r,targetType:(null==o?void 0:o.tagName)||"",targetIdentifier:(null==o?void 0:o.id)||"",targetTestIdentifier:(null==o?void 0:o.getAttribute("data-test-id"))||(null==o?void 0:o.getAttribute("data-testid"))||"",targetText:null!=o&&o.textContent?o.textContent.substring(0,50):""})})),r=JSON.stringify(t)}}catch(t){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"lcpMetricDetails",eventDetail:t?t.toString():"",eventValue:"1",timestamp:Date.now()})}if(this.tracker.trackOperationalEvents({metricList:[{metricName:this.validWebVitals[e],metricValue:"CLS"===e?1e3*n:n,metricUnit:"CLS"===e?void 0:"Milliseconds",metricDetails:r}]},void 0,this.eventType),"LCP"===e){this.webVitalLCPValue=n;try{let t=0,e=0;const i=[];let r=0,o=0;const a=[];let s=0,c=0;const l=[];let u=0,h=0;const d=[];performance.getEntriesByType("resource").forEach((m=>{const{startTime:f,transferSize:p=0,name:g,duration:v,initiatorType:y,renderBlockingStatus:w="non-blocking"}=m;if(f+v<n&&["script","link","img","css"].includes(y)){const n=this.isPlatformAsset(g,y);n&&(r+=v,p>0&&(o+=p),a.push({assetName:g,assetDuration:v,assetStartTime:f,assetOwner:this.getPlatformAssetOwner(g,y)})),"blocking"===w&&(s+=v,n&&(u+=v,d.push({assetName:g,assetDuration:v,assetStartTime:f,assetOwner:this.getPlatformAssetOwner(g,y)})),p>0&&(c+=p,h+=p),l.push({assetName:g,assetDuration:v,assetStartTime:f,assetOwner:this.getPlatformAssetOwner(g,y)})),t+=v,e+=p,i.push({assetName:g,assetDuration:v,assetStartTime:f,assetOwner:this.getPlatformAssetOwner(g,y)})}})),e>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpResourceLoadSize",metricValue:e,metricUnit:"Bytes"}]},void 0,this.eventType),t>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpResourceLoadTime",metricValue:t,metricUnit:"Milliseconds"}]},void 0,this.eventType),o>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformResourceLoadSize",metricValue:o,metricUnit:"Bytes",metricDetails:JSON.stringify(a)}]},void 0,this.eventType),r>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformResourceLoadTime",metricValue:r,metricUnit:"Milliseconds",metricDetails:JSON.stringify(a)}]},void 0,this.eventType),h>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformRenderBlockingResourceLoadSize",metricValue:h,metricUnit:"Bytes",metricDetails:JSON.stringify(d)}]},void 0,this.eventType),u>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpPlatformRenderBlockingResourceLoadTime",metricValue:u,metricUnit:"Milliseconds",metricDetails:JSON.stringify(d)}]},void 0,this.eventType),c>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpRenderBlockingResourceLoadSize",metricValue:c,metricUnit:"Bytes",metricDetails:JSON.stringify(l)}]},void 0,this.eventType),s>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpRenderBlockingResourceLoadTime",metricValue:s,metricUnit:"Milliseconds",metricDetails:JSON.stringify(l)}]},void 0,this.eventType)}catch(t){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"lcpResourceTiming",eventDetail:t?t.toString():"",eventValue:"1",timestamp:Date.now()})}try{const t=new PerformanceObserver((e=>{let i=0,r=0;e.getEntries().forEach((t=>{const{startTime:e,duration:o}=t;e+o<n&&(i+=o,r++)})),t.disconnect(),i>0&&this.tracker.trackOperationalEvents({metricList:[{metricName:"lcpLongTaskDuration",metricValue:i,metricUnit:"Milliseconds",metricDetails:JSON.stringify({totalNoOfLongTasks:r})}]},void 0,this.eventType)}));t.observe({type:"longtask",buffered:!0})}catch(t){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"lcpLongTaskTiming",eventDetail:t?t.toString():"",eventValue:"1",timestamp:Date.now()})}}})),Object.assign(this,t)}}class wr{getName(){return this.name}canExecuteComponentReady(t){document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()}getActivationStart(){try{return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation")[0]&&window.performance.getEntriesByType("navigation")[0].activationStart||0}catch(t){return this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"getActivationStart",eventDetail:t?t.toString():""}),0}}emitComponentReadyMetric(){try{if(window&&window.performance&&"function"==typeof window.performance.getEntriesByType){const t=window.performance.getEntriesByType("mark"),e=t.length,n=this.getActivationStart()||0;for(let i=e-1;i>=0;i--){const{name:e,startTime:r,detail:o={}}=t[i];if(o&&"object"==typeof o&&o.source&&"awsui"===o.source&&!o.loading&&o.instanceId&&!this.visitedCloudscapeMarkers.has(o.instanceId)){this.visitedCloudscapeMarkers.add(o.instanceId);const t=this.isComponentReadyEmittedOnLoad?"timeToTransitionReady":"timeToPageReady";let i=r-n;if(this.isComponentReadyEmittedOnLoad&&(i=r-this.locationChangeTime),i>0){this.tracker.trackOperationalEvents({metricList:[{metricName:t,metricValue:i,metricDetails:JSON.stringify({componentEventName:e,componentIdentifier:o.text||o.header||""}),metricUnit:"Milliseconds"}]},void 0,this.eventType),this.isComponentReadyEmittedOnLoad||ht("onLocationChange",this.attachListenersOnLocationChange),this.isComponentReadyEmittedOnLoad=!0;break}}}}}catch(t){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitComponentReadyMetric",eventDetail:t?t.toString():""})}finally{this.removeListenersForComponentReady()}}visiblityChangeHandler(){"hidden"===document.visibilityState&&this.emitComponentReadyMetric()}addListenersForComponentReady(){["keydown","click"].forEach((t=>{addEventListener(t,this.emitComponentReadyMetric,!0)})),document.addEventListener("visibilitychange",this.visiblityChangeHandler),addEventListener("pagehide",this.emitComponentReadyMetric,!0),setTimeout((()=>{this.emitComponentReadyMetric()}),this.cutOffTimer)}removeListenersForComponentReady(){["keydown","click"].forEach((t=>{removeEventListener(t,this.emitComponentReadyMetric,!0)})),document.removeEventListener("visibilitychange",this.visiblityChangeHandler),removeEventListener("pagehide",this.emitComponentReadyMetric,!0)}attachListenersOnLocationChange(){this.locationChangeTime=performance.now(),this.addListenersForComponentReady()}setup(){window.performance&&(this.enabled=!0,this.logTimeToStartExecutingConsoleAsset(),this.canExecuteComponentReady((()=>{this.addListenersForComponentReady()})))}teardown(){this.enabled=!1,dt("onLocationChange",this.attachListenersOnLocationChange)}constructor(t){e(o)(this,"name","ConsoleLatencyPlugin"),e(o)(this,"enabled",!1),e(o)(this,"eventType","performance"),e(o)(this,"isComponentReadyEmittedOnLoad",!1),e(o)(this,"locationChangeTime",performance.now()),e(o)(this,"visitedCloudscapeMarkers",new Set),e(o)(this,"cutOffTimer",6e4),e(o)(this,"tracker",void 0),e(o)(this,"logTimeToStartExecutingConsoleAsset",(()=>{try{if(window&&window.performance&&"function"==typeof window.performance.getEntriesByName){const t=window.performance.getEntriesByName("timeToStartExecConsoleAsset")[0];if(t){const{startTime:e}=t;this.tracker.trackOperationalEvents({metricList:[{metricName:"timeToStartExecConsoleAsset",metricValue:e,metricUnit:"Milliseconds"}]},void 0,this.eventType)}}}catch(t){this.tracker.trackCustomEvent({eventSource:"panoramaInternal",eventType:"emitPanoramaLatencyMetric",eventDetail:t?t.toString():""})}})),Object.assign(this,t),this.emitComponentReadyMetric=this.emitComponentReadyMetric.bind(this),this.visiblityChangeHandler=this.visiblityChangeHandler.bind(this),this.attachListenersOnLocationChange=this.attachListenersOnLocationChange.bind(this)}}var br={};
/*! For license information please see shortbread-cookie-reader.js.LICENSE.txt */window,br=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=50)}({13:function(t,e,n){"use strict";n.r(e),n.d(e,"v1",(function(){return m})),n.d(e,"v3",(function(){return C})),n.d(e,"v4",(function(){return S})),n.d(e,"v5",(function(){return k}));var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var c,l,u=function(t,e){var n=e||0,i=a;return(i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]).toLowerCase()},h=0,d=0,m=function(t,e,n){var i=e&&n||0,r=e||[],a=(t=t||{}).node||c,s=void 0!==t.clockseq?t.clockseq:l;if(null==a||null==s){var m=t.random||(t.rng||o)();null==a&&(a=c=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==s&&(s=l=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:Date.now(),p=void 0!==t.nsecs?t.nsecs:d+1,g=f-h+(p-d)/1e4;if(g<0&&void 0===t.clockseq&&(s=s+1&16383),(g<0||f>h)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=f,d=p,l=s;var v=(1e4*(268435455&(f+=122192928e5))+p)%4294967296;r[i++]=v>>>24&255,r[i++]=v>>>16&255,r[i++]=v>>>8&255,r[i++]=255&v;var y=f/4294967296*1e4&268435455;r[i++]=y>>>8&255,r[i++]=255&y,r[i++]=y>>>24&15|16,r[i++]=y>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(var w=0;w<6;++w)r[i+w]=a[w];return e||u(r)},f=function(t,e,n){function i(t,i,r,o){var a=r&&o||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}(i)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=n(i.concat(t));if(s[6]=15&s[6]|e,s[8]=63&s[8]|128,r)for(var c=0;c<16;++c)r[a+c]=s[c];return r||u(s)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function p(t){return 14+(t+64>>>9<<4)+1}function g(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function v(t,e,n,i,r,o){var a,s;return g((a=g(g(e,t),g(i,o)))<<(s=r)|a>>>32-s,n)}function y(t,e,n,i,r,o,a){return v(e&n|~e&i,t,e,r,o,a)}function w(t,e,n,i,r,o,a){return v(e&i|n&~i,t,e,r,o,a)}function b(t,e,n,i,r,o,a){return v(e^n^i,t,e,r,o,a)}function E(t,e,n,i,r,o,a){return v(n^(e|~i),t,e,r,o,a)}var C=f("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i="0123456789abcdef",r=0;r<n;r+=8){var o=t[r>>5]>>>r%32&255,a=parseInt(i.charAt(o>>>4&15)+i.charAt(15&o),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[p(e)-1]=e;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,c=i,l=r,u=o;n=y(n,i,r,o,t[a],7,-680876936),o=y(o,n,i,r,t[a+1],12,-389564586),r=y(r,o,n,i,t[a+2],17,606105819),i=y(i,r,o,n,t[a+3],22,-1044525330),n=y(n,i,r,o,t[a+4],7,-176418897),o=y(o,n,i,r,t[a+5],12,1200080426),r=y(r,o,n,i,t[a+6],17,-1473231341),i=y(i,r,o,n,t[a+7],22,-45705983),n=y(n,i,r,o,t[a+8],7,1770035416),o=y(o,n,i,r,t[a+9],12,-1958414417),r=y(r,o,n,i,t[a+10],17,-42063),i=y(i,r,o,n,t[a+11],22,-1990404162),n=y(n,i,r,o,t[a+12],7,1804603682),o=y(o,n,i,r,t[a+13],12,-40341101),r=y(r,o,n,i,t[a+14],17,-1502002290),n=w(n,i=y(i,r,o,n,t[a+15],22,1236535329),r,o,t[a+1],5,-165796510),o=w(o,n,i,r,t[a+6],9,-1069501632),r=w(r,o,n,i,t[a+11],14,643717713),i=w(i,r,o,n,t[a],20,-373897302),n=w(n,i,r,o,t[a+5],5,-701558691),o=w(o,n,i,r,t[a+10],9,38016083),r=w(r,o,n,i,t[a+15],14,-660478335),i=w(i,r,o,n,t[a+4],20,-405537848),n=w(n,i,r,o,t[a+9],5,568446438),o=w(o,n,i,r,t[a+14],9,-1019803690),r=w(r,o,n,i,t[a+3],14,-187363961),i=w(i,r,o,n,t[a+8],20,1163531501),n=w(n,i,r,o,t[a+13],5,-1444681467),o=w(o,n,i,r,t[a+2],9,-51403784),r=w(r,o,n,i,t[a+7],14,1735328473),n=b(n,i=w(i,r,o,n,t[a+12],20,-1926607734),r,o,t[a+5],4,-378558),o=b(o,n,i,r,t[a+8],11,-2022574463),r=b(r,o,n,i,t[a+11],16,1839030562),i=b(i,r,o,n,t[a+14],23,-35309556),n=b(n,i,r,o,t[a+1],4,-1530992060),o=b(o,n,i,r,t[a+4],11,1272893353),r=b(r,o,n,i,t[a+7],16,-155497632),i=b(i,r,o,n,t[a+10],23,-1094730640),n=b(n,i,r,o,t[a+13],4,681279174),o=b(o,n,i,r,t[a],11,-358537222),r=b(r,o,n,i,t[a+3],16,-722521979),i=b(i,r,o,n,t[a+6],23,76029189),n=b(n,i,r,o,t[a+9],4,-640364487),o=b(o,n,i,r,t[a+12],11,-421815835),r=b(r,o,n,i,t[a+15],16,530742520),n=E(n,i=b(i,r,o,n,t[a+2],23,-995338651),r,o,t[a],6,-198630844),o=E(o,n,i,r,t[a+7],10,1126891415),r=E(r,o,n,i,t[a+14],15,-1416354905),i=E(i,r,o,n,t[a+5],21,-57434055),n=E(n,i,r,o,t[a+12],6,1700485571),o=E(o,n,i,r,t[a+3],10,-1894986606),r=E(r,o,n,i,t[a+10],15,-1051523),i=E(i,r,o,n,t[a+1],21,-2054922799),n=E(n,i,r,o,t[a+8],6,1873313359),o=E(o,n,i,r,t[a+15],10,-30611744),r=E(r,o,n,i,t[a+6],15,-1560198380),i=E(i,r,o,n,t[a+13],21,1309151649),n=E(n,i,r,o,t[a+4],6,-145523070),o=E(o,n,i,r,t[a+11],10,-1120210379),r=E(r,o,n,i,t[a+2],15,718787259),i=E(i,r,o,n,t[a+9],21,-343485551),n=g(n,s),i=g(i,c),r=g(r,l),o=g(o,u)}return[n,i,r,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(p(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))})),S=function(t,e,n){"string"==typeof t&&(e="binary"===t?new Uint8Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){for(var r=n||0,a=0;a<16;++a)e[r+a]=i[a];return e}return u(i)};function T(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function A(t,e){return t<<e|t>>>32-e}var k=f("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=[];for(var r=0;r<i.length;++r)t.push(i.charCodeAt(r))}t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),c=0;c<a;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[64*c+4*u]<<24|t[64*c+4*u+1]<<16|t[64*c+4*u+2]<<8|t[64*c+4*u+3];s[c]=l}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<a;++h){for(var d=new Uint32Array(80),m=0;m<16;++m)d[m]=s[h][m];for(var f=16;f<80;++f)d[f]=A(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var p=n[0],g=n[1],v=n[2],y=n[3],w=n[4],b=0;b<80;++b){var E=Math.floor(b/20),C=A(p,5)+T(E,g,v,y)+w+e[E]+d[b]>>>0;w=y,y=v,v=A(g,30)>>>0,g=p,p=C}n[0]=n[0]+p>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+w>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))},4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSENT_COOKIE_CHANGED_EVENT=e.DEFAULT_TANGERINEBOX_DEV_DOMAIN=e.DEFAULT_DOMAIN=e.DEFAULT_LANGUAGE=e.ALL_ALLOWED=e.DEFAULT_COOKIE=e.DEFAULT_COOKIE_AGE=e.COOKIE_VERSION=void 0,e.COOKIE_VERSION="1",e.DEFAULT_COOKIE_AGE=31536e3,e.DEFAULT_COOKIE={essential:!0,functional:!1,performance:!1,advertising:!1},e.ALL_ALLOWED={essential:!0,functional:!0,performance:!0,advertising:!0},e.DEFAULT_LANGUAGE="en-us",e.DEFAULT_DOMAIN=".aws.amazon.com",e.DEFAULT_TANGERINEBOX_DEV_DOMAIN=".aws-dev.amazon.com",e.CONSENT_COOKIE_CHANGED_EVENT="cookie-consent-changed"},5:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.setConsentCookie=e.getId=e.getConsentCookie=e.validateConfiguration=void 0;var r=n(7),o=n(4);function a(t,e){var n=t.domain,i=void 0===n?o.DEFAULT_DOMAIN:n,r=t.log,a=function(t){return"."===t.charAt(0)&&(t=t.slice(1)),t}(i),s=window.location.hostname;return!!s.endsWith(a)||((r?r("error"):function(){})("domainMismatch",{detail:"Domain mismatch",source:e,configuredDomain:i,actualDomain:s}),console.error("Shortbread failed to set user's cookie preference because the domain name that was passed in does not match the hostname of the application. \n        Configured domain: "+i+".\n        Actual domain: "+s+".\n        As a fallback, Shortbread is only allowing 'essential' cookies to be used."),!1)}function s(t,e){var n,i,r=t.match("(^|;)\\s*awsccc\\s*=\\s*([^;]+)"),o=e?e("error"):function(){};if(r&&r.length>0)try{var a=JSON.parse(atob(r[r.length-1]));return 1===(i=a).e&&"number"==typeof i.p&&"number"==typeof i.f&&"number"==typeof i.a&&"string"==typeof i.i&&"string"==typeof i.v?{essential:1===(n=a).e,performance:1===n.p,functional:1===n.f,advertising:1===n.a,id:n.i,version:n.v}:void o("getCookie",{detail:"Cookie format is not valid",cookie:a})}catch(t){return void o("getCookie",{detail:"Error parsing cookie",cookie:r[r.length-1]})}}function c(t){void 0===t&&(t=function(){return document.cookie});var e=s(t());if(e&&e.id)return e.id}function l(t){document.cookie=t}e.validateConfiguration=a,e.getConsentCookie=function(t,e){void 0===t&&(t=function(){return document.cookie});var n=s(t(),e);if(n)return{essential:n.essential,performance:n.performance,functional:n.functional,advertising:n.advertising}},e.getId=c,e.setConsentCookie=function(t,e,n,s,u,h,d,m,f){void 0===e&&(e=o.DEFAULT_DOMAIN),void 0===n&&(n=o.DEFAULT_COOKIE_AGE),void 0===s&&(s=r.default),void 0===u&&(u=l),void 0===h&&(h=a),h({domain:e,log:d},"customize");var p,g=c()||s(d,m,f),v=i(i({},t),{id:g,version:o.COOKIE_VERSION}),y={e:(p=v).essential?1:0,p:p.performance?1:0,f:p.functional?1:0,a:p.advertising?1:0,i:p.id,v:p.version};return u("awsccc="+btoa(JSON.stringify(y))+"; domain="+e+"; path=/; max-age="+n+"; secure=true; SameSite=Lax"),v}},50:function(t,e,n){t.exports=n(51)},51:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AWSCShortbreadCookieReader=void 0;var r=n(5),o=n(4),a=n(8);e.AWSCShortbreadCookieReader=function(t){void 0===t&&(t={});var e,n,s=t,c=s.log||a.createLogger({baseUrl:s.hasConsoleNavFooter?a.DEFAULT_CONSOLE_INTEGRATION_LOGGER_PIXEL_URL:a.DEFAULT_LOGGER_PIXEL_URL}),l=(e=s.onConsentChanged,n=function(t){var n=t.detail;"function"==typeof e&&e(n)},document.addEventListener(o.CONSENT_COOKIE_CHANGED_EVENT,n),n);return{getConsentCookie:function(){return r.getConsentCookie(s.__storeReader,c)},hasConsent:function(t){return(r.getConsentCookie(s.__storeReader,c)||i({},o.DEFAULT_COOKIE))[t]},__close:function(){document.removeEventListener(o.CONSENT_COOKIE_CHANGED_EVENT,l)}}},e.default=e.AWSCShortbreadCookieReader},7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13);e.default=function(t,e,n){void 0===e&&(e=i.v4),void 0===n&&(n=function(){return"ts-"+Date.now().toString()});var r=t?t("error"):function(){};try{return e()}catch(t){return r("uuid",{detail:"Error generating UUID",errorMessage:t.message||""}),n()}}},8:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_LOGGER=e.createLogger=e.DEFAULT_CONSOLE_INTEGRATION_LOGGER_PIXEL_URL=e.DEFAULT_LOGGER_PIXEL_URL=void 0,e.DEFAULT_LOGGER_PIXEL_URL="https://prod.log.shortbread.aws.dev/1x1.png",e.DEFAULT_CONSOLE_INTEGRATION_LOGGER_PIXEL_URL="https://prod.log.shortbread.analytics.console.aws.a2z.com/1x1.png",e.createLogger=function(t){var n=t.baseUrl,r=void 0===n?e.DEFAULT_LOGGER_PIXEL_URL:n,o=t.timeout,a=void 0===o?5e3:o;return function(t){return function(e,n){void 0===n&&(n={});var o=function(t,e,n,r){void 0===r&&(r={});var o=i({timestamp:Date.now(),logVersion:"1",domain:window.location.host,url:window.location.href},r);return t+"?severity="+encodeURIComponent(e)+"&message="+encodeURIComponent(n)+"&payload="+encodeURIComponent(JSON.stringify(o))}(r,t,e,n);!function(t,e){try{var n=new XMLHttpRequest;n.onreadystatechange=function(){},n.ontimeout=function(){},n.onerror=function(){},n.open("HEAD",t),n.timeout=e,n.send()}catch(t){console.log("Error attempting to post a log message: {e}")}}(o,a)}}},e.DEFAULT_LOGGER=e.createLogger({baseUrl:"https://prod.log.shortbread.aws.dev/1x1.png"}),e.default=e.createLogger}});class Er{updateIsAllowed(t){const e=this.tracker.getPartitionForRegion(this.tracker.region),{AWS_PARTITION_NAME:n}=this.tracker.trackerConstants;e!==n.Aws?this.isPerformanceAllowed=!0:null!=t&&(this.isPerformanceAllowed=t)}constructor(t){e(o)(this,"isConsole",void 0),e(o)(this,"isPerformanceAllowed",void 0),e(o)(this,"PERFORMANCE_COOKIE_CATEGORY","performance"),e(o)(this,"tracker",void 0),t&&Object.assign(this,t);const n=(0,br.AWSCShortbreadCookieReader)({hasConsoleNavFooter:this.isConsole,onConsentChanged:t=>{this.updateIsAllowed(t.performance),!1===this.isPerformanceAllowed?k("userUncheckPerformanceCookie",1):(h(this,"tracker","core","setVisitorInfo")&&"function"==typeof this.tracker.core.setVisitorInfo&&h(this,"tracker","visitorId")&&this.tracker.core.setVisitorInfo(this.tracker.visitorId),k("userCheckPerformanceCookie",1))}}).hasConsent(this.PERFORMANCE_COOKIE_CATEGORY);this.updateIsAllowed(n)}}const Cr=[];class Sr{setupLocals(){var t,e;this.isConsole=pt(this.argmap),this.isCustomerReadyEmitted=!1,this.configCookieDomain=h(this,"argmap","trackerConstants","cookieDomain")?null===(t=this.argmap.trackerConstants)||void 0===t?void 0:t.cookieDomain:void 0,this.configDoNotTrack=!!this.argmap.hasOwnProperty("respectDoNotTrack")&&(this.argmap.respectDoNotTrack&&("yes"===this.dnt||"1"===this.dnt)),this.configuredPlugins=void 0!==this.argmap.plugins?this.argmap.plugins:{},this.core=new _t({base64:!0,callback:t=>{this.addBrowserData(t),mt("onProcessed",t),this.sendRequest(t,this.configTrackerPause)}}),this.plugins=new vi({tracker:this});let n=new Ii({tracker:this});this.plugins.addPlugin(n),this.isConsole&&this.trackerConstants.pluginsEnabledByDefault&&this.plugins.enablePlugin(n),this.argmap.hasOwnProperty("service")?this.updateRegionAndService({service:this.argmap.service}):this.service||this.updateRegionAndService({service:""}),this.argmap.hasOwnProperty("region")?this.updateRegionAndService({region:this.argmap.region}):this.region||this.updateRegionAndService({region:"us-east-1"}),this.documentAlias=document,this.windowAlias=window,this.navigatorAlias=navigator,this.locationArray=jt({hostName:this.documentAlias.domain,href:this.windowAlias.location.href,referrer:v()}),this.domainAlias=p(this.locationArray[0]),this.locationHrefAlias=this.locationArray[1],this.configReferrerUrl=this.locationArray[2],this.configRequestMethod="GET",this.lastDocumentTitle=this.documentAlias.title,this.configCookiePath="/",this.configCookieNamePrefix=this.argmap.hasOwnProperty("cookieName")?this.argmap.cookieName:"_sp_",this.dnt=this.navigatorAlias.doNotTrack||this.navigatorAlias.msDoNotTrack||this.windowAlias.doNotTrack,"1"===this.dnt&&P("panoDntEnabled",1),this.browserLanguage=bt(),this.browserFeatures=Ht("cookie"===this.trackerConstants.stateStorageStrategy||"cookieAndLocalStorage"===this.trackerConstants.stateStorageStrategy,this.getSnowplowCookieName("testcookie")),this.debouncedScroll=Ie(this.scrollHandler,250),this.hash=an,this.shortbread=new Er({tracker:this}),this.argmap.hasOwnProperty("discoverRootDomain")&&this.argmap.discoverRootDomain&&(this.configCookieDomain=A()),this.cookieHandler.cookieDomain=this.configCookieDomain,this.cookieHandler.cookiePath=this.configCookiePath,this.cookieHandler.storageStrategy="cookie";let i={};try{i=this.cookieHandler.getCookie("aws-userInfo"),this.core.setAWSUserInfo(i||"")}catch(t){}let r={};try{r=this.cookieHandler.getCookie("aws-userInfo-signed"),this.core.setAWSUserInfoSigned(r||"")}catch(t){}h(this,"argmap","appEntity")&&this.core.addCommonBatchAttr("appEntity",this.argmap.appEntity||"");try{this.visitorId=this.cookieHandler.createOrUpdateVidCookie("aws-vid")}catch(t){b(t)}finally{this.core.setVisitorInfo(this.visitorId)}this.core.addCommonPayloadAttr("version",this.version),this.core.addCommonPayloadAttr("tabId",this.mutSnowplowState.pageViewId),h(this,"argmap","trackerConstants","modality")?this.core.addCommonPayloadAttr("modality",null===(e=this.argmap.trackerConstants)||void 0===e?void 0:e.modality):this.core.addCommonPayloadAttr("modality",this.trackerConstants.modality),document.querySelectorAll("meta[id^='panorama-']").forEach((t=>{const e=t.id.replace("panorama-","");t.hasAttribute("value")&&(this.updateCommonAttribute(e,t.getAttribute("value")||"",!0),"service"===e&&this.core.addCommonBatchAttr("consoleService",t.getAttribute("value")||""))})),this.trackerConstants.CAPTURE_FAC&&this.setFac(),this.core.setBase64Encoding(!this.argmap.hasOwnProperty("encodeBase64")||this.argmap.encodeBase64),this.core.setTimezone((new Date).getTimezoneOffset().toString()),this.core.setLang(this.browserLanguage),this.core.setScreenResolution(this.browserFeatures.res),this.core.setColorDepth(String(screen.colorDepth)),this.core.setDomain(this.argmap.domain);let o="";if(this.trackerConstants.COOKIES_TO_CAPTURE.forEach((t=>{const e=this.cookieHandler.getCookie(t);e&&(o+=`${t}=${e};`)})),this.core.setBrowserCookies(o),this.argmap.commonAttributes)for(const t in this.argmap.commonAttributes)this.argmap.commonAttributes.hasOwnProperty(t)&&this.updateCommonAttribute(t,this.argmap.commonAttributes[t],!0);this.outQueueManager=new Pe({blockOutqueue:this.argmap.blockOutqueue||!0,bufferSize:this.argmap.bufferSize||1e3,commonPayloadAttr:this.core.commonPayloadAttr,core:this.core,functionName:this.functionName,isConsole:this.isConsole,maxPostBytes:this.argmap.maxPostBytes||ct.DEFAULT_MAX_POST_BYTES,maxSinglePostBytes:this.argmap.maxSinglePostBytes||ct.DEFAULT_MAX_SINGLE_POST_BYTES,maxRetries:this.trackerConstants.outqueueRetries,mutSnowplowState:this.mutSnowplowState,namespace:this.namespace,region:this.region,service:this.service,appEntity:this.appEntity,trackerStats:this.trackerStats,urlPath:this.getUrlPath(),useLocalStorage:!1}),this.isConsole&&this.emitPanoramaLatencyMetric()}getPartitionForRegion(t){const{AWS_PARTITION_NAME:e}=this.trackerConstants;return t.startsWith("us-gov-")?e.AwsUsGov:t.startsWith("us-iso-")?e.AwsIso:t.startsWith("us-isob-")?e.AwsIsoB:t.startsWith("cn-")?e.AwsCn:e.Aws}getNonProdConsoleProxyDomainForPartition(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"integ";switch(t){case"aws-cn":return`awsc-${e}.amazonaws.cn`;case"aws-us-gov":return`awsc-${e}.amazonaws-us-gov.com`;case"aws-iso":return`awsc-${e}.c2s-border.ic.gov`;case"aws-iso-b":return`awsc-${e}.sc2shome.sgov.gov`;case"aws":return`awsc-${e}.aws.amazon.com`;default:return""}}getProdConsoleProxyDomainForPartition(t){switch(t){case"aws-cn":return"console.amazonaws.cn";case"aws-us-gov":return"console.amazonaws-us-gov.com";case"aws-iso":return"console.c2shome.ic.gov";case"aws-iso-b":return"console.sc2shome.sgov.gov";case"aws":return"console.aws.amazon.com";default:return""}}generateProxyEndpoint(){try{const{AWS_PARTITION_NAME:t,DOMAINS:e}=this.trackerConstants,n=window.location.hostname,i=n.includes(this.region),r=this.getPartitionForRegion(this.region);if(r!==t.Aws||i)return"";const o=!e.NONPROD.test(n)&&e.PROD.test(n),a=/integ/i.test(n),s=/preprod/i.test(n);if(o||a||s){const t=a||s?this.getNonProdConsoleProxyDomainForPartition(r,s?"preprod":"integ"):this.getProdConsoleProxyDomainForPartition(r);if(t)return`https://${this.region}.${t}`}return""}catch(t){return""}}emitPanoramaPing(){const t=new XMLHttpRequest,e={eventType:"panoramaPing",eventContext:"pageload",eventDetail:"",eventValue:"1",timestamp:Date.now()},{batchAttr:n,request:i}=this.core.trackCustomEvent(e);this.shortbread&&!this.shortbread.isPerformanceAllowed&&(n.visitorInfo="");const r={...n,batchRequest:[i],batchRequestId:Ct()};window.panorama&&window.panorama.useProxy&&(this.configCollectorUrl=this.generateProxyEndpoint()),t.open("POST",this.configCollectorUrl+this.getUrlPath(),!0);!!this.cookieHandler.getCookie("metrics-req-cat")&&(this.core.addCommonPayloadHeader("metrics-req-cat","canary"),t.setRequestHeader("metrics-req-cat","canary")),t.setRequestHeader("Content-Type","application/json; charset=UTF-8");try{t.setRequestHeader("Panorama-AppEntity",this.appEntity||"")}catch(t){P("panoXhrAppEntityHeaderFailed",1)}t.send(JSON.stringify(r))}refreshUrl(){this.locationArray=jt({hostName:this.documentAlias.domain,href:this.windowAlias.location.href,referrer:v()}),this.locationArray[1]!==this.locationHrefAlias&&(this.configReferrerUrl=v(this.locationHrefAlias)),this.domainAlias=p(this.locationArray[0]),this.locationHrefAlias=this.locationArray[1]}sendRequest(t,n){var i;const{eventSource:r,eventType:o}=t.request;if(this.eventTypesToIgnore.indexOf(o)>=0)return;this.trackerStats.capturedEvents++;const s=new Date,c=!!e(a).get(this.configOptOutCookie),l=this.determineEventDrop(t.request);"clog"===r&&(this.trackerStats.numClogSeen++,this.trackerStats.numClogCaptured++),"panorama"!==r&&"panoramaInternal"!==r||l&&this.trackerStats.userDisallowedPanoramaEvents++;const u=null===(i=t.request)||void 0===i?void 0:i.variant;if(Object.assign(t.request,this.core.commonPayloadAttr),u&&(t.request.variant=u),this.isConsole&&window.panorama&&window.panorama.useProxy&&(this.configCollectorUrl=this.generateProxyEndpoint()),!(this.configDoNotTrack||c||l)){let e=t.getBatchAttribute();!this.shortbread.isPerformanceAllowed&&e&&e.visitorInfo&&(e.visitorInfo=""),this.outQueueManager.enqueueRequest(t.build(),e,t.getHeader(),this.configCollectorUrl),this.mutSnowplowState.expireDateTime=s.getTime()+n}}checkIfMetricNotSupported(t,e,n){try{return!([Pt,It].includes(t)||e.includes("Chat")||n.includes("@amzn/conversational-experience"))}catch(t){I({eventSource:"panoramaInternal",eventType:"disabledMetric",eventContext:"checkIfMetricNotSupported",eventDetail:t?t.toString():""})}return!1}determineEventDrop(t){const{eventType:e,eventSource:n,eventContext:i="",widgetIds:r=[]}=t;return("panorama"===n||"panoramaInternal"===n)&&(!(!this.shortbread||this.shortbread.isPerformanceAllowed)||("view"!==e||!this.enableViewMetrics)&&(!(null!=e&&e.includes("pano-cust_")&&this.enableCustomMetrics&&this.disableBusinessMetrics)&&(!("polaroid"!==n||!this.disableOpsMetrics)||(!(!["aws-marketing"].includes(this.appEntity)||!this.checkIfMetricNotSupported(e,i,r))||!!this.disableBusinessMetrics))))}updateDomainHash(){this.refreshUrl(),this.domainHash=this.hash((this.configCookieDomain||this.domainAlias)+(this.configCookiePath||"/")).slice(0,4)}addBrowserData(t){const n=this.getSnowplowCookieName("id"),i=this.getSnowplowCookieName("ses"),r=!!e(a).get(this.configOptOutCookie);if((this.configDoNotTrack||r)&&"none"!==this.trackerConstants.stateStorageStrategy)return void("localStorage"===this.trackerConstants.stateStorageStrategy?(C(n,""),C(i,"")):"cookie"!==this.trackerConstants.stateStorageStrategy&&"cookieAndLocalStorage"!==this.trackerConstants.stateStorageStrategy||(e(a).remove(n,{path:this.configCookiePath,domain:this.configCookieDomain}),e(a).remove(i,{path:this.configCookiePath,domain:this.configCookieDomain})));const o=function(){var t=Mt,e="inner";"innerWidth"in Mt||(e="client",t=Ft.documentElement||Ft.body);var n=t[e+"Width"],i=t[e+"Height"];return n>=0&&i>=0?n+"x"+i:null}();if(o&&o.split("x").length>1){const[e,n]=o.split("x");t.request.browserViewPortWidth=Number(e),t.request.browserViewPortHeight=Number(n)}this.refreshUrl(),t.request.referrer=Oe(this.customReferrer||this.configReferrerUrl,this.configDiscardHashTag),t.request.requestUri=Oe(this.locationHrefAlias,this.configDiscardHashTag),t.request.pageUrlPath=Oe(this.locationHrefAlias,this.configDiscardHashTag)}asCollectorUrl(t){if(this.trackerConstants.forceSecureTracker)return"https://"+t;if(this.trackerConstants.forceUnsecureTracker)return"http://"+t;let e="https://";return this.documentAlias.location&&(e="https:"===this.documentAlias.location.protocol?"https":"http"),e+"://"+t}teardownListeners(t){return this.listeners.forEach((e=>{w(t.contentWindow,e.eventType,e.callback)})),window.onpopstate?w(t.contentWindow,"popstate",this.locationHandler):w(t.contentWindow,"hashchange",this.locationHandler),!0}getUrlPath(){return void 0===this.argmap.configCollectorUrlPath?"/panoramaroute":this.argmap.configCollectorUrlPath}openOutqueue(){this.outQueueManager.setBlockOutqueue(!1)}getCookieName(t){return this.getSnowplowCookieName(t)}setReferrerUrl(t){this.customReferrer=t}setDocumentTitle(t){this.lastDocumentTitle=this.documentAlias.title,this.lastConfigTitle=t}attachEventListener(t,e){ht(t,e)}detachEventListener(t,e){dt(t,e)}discardHashTag(t){this.configDiscardHashTag=t}setCookiePath(t){this.configCookiePath=t,this.updateDomainHash()}redirectFile(t){"file:"===this.windowAlias.location.protocol&&(this.windowAlias.location=t)}flushBuffer(){this.outQueueManager.executeQueue()}trackPageView(t,e){this.logPageView(t,e)}trackCustomEvent(t){if(!t)return void I({eventSource:kt,eventType:"droppedEvent",eventContext:"trackCustomEvent",eventDetail:"Did not receive data to track.",eventValue:"",operationalData:{metricList:[{metricDetails:JSON.stringify({message:"Did not receive data to track.",methodName:"trackCustomEvent"}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()});if(t&&t.eventName&&ct.CLOG_METRICS_TO_IGNORE.indexOf(t.eventName)>=0)return void I({eventSource:kt,eventType:"droppedEvent",eventContext:"trackCustomEvent",eventDetail:"The event name is a clog metric that is not logged by Panorama.",eventValue:t.eventName,operationalData:{metricList:[{metricDetails:JSON.stringify({message:"The event name is a clog metric that is not logged by Panorama.",methodName:"trackCustomEvent"}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()});const e=this.trackerConstants;for(let n=0;n<e.EVENT_FIELDS_TO_CHECK.length;n++){const i=e.EVENT_FIELDS_TO_CHECK[n];if(t[i]&&t[i].length>e.MAX_FIELD_LENGTH){t[i]=t[i].substring(0,e.MAX_FIELD_LENGTH),this.trackerStats.truncatedEvents++;const{eventSource:n,eventName:r,eventType:o}=t;let a=n+".";a+="clog"===n?r:o,this.trackerStats.truncatedEventsDetails[a]?this.trackerStats.truncatedEventsDetails[a]++:this.trackerStats.truncatedEventsDetails[a]=1}}const{eventType:n,contentId:i,eventContext:r}=t,o=!i&&!["totalTimeActiveOnPage","totalTimeAwayFromPage"].includes(r);if(n&&Lt.has(n)&&o){this.core.trackCustomEvent({eventSource:Tt,eventType:"pano_conflicting_eventType",eventContext:n,eventDetail:JSON.stringify(t)});try{t.eventType=`custom_${t.eventType}`}catch(t){I({eventSource:"panoramaInternal",eventType:"panoConflictingEventType",eventContext:"customOverride",eventDetail:t?t.toString():""})}}this.core.trackCustomEvent(t)}isValidToLog(t,e,n,i){var r,o;let a;if(!u(e,"object"))return{isValidToLog:!1};let{message:s,validatedOpsPayload:c}=yt(e);const l=!(null===(r=c.metricList)||void 0===r||!r.length);switch(t){case"trackOperationalEvents":var d;return i?(a=wt(i),{isValidToLog:a&&c&&h(c,"metricList")&&0!==(null===(d=c.metricList)||void 0===d?void 0:d.length),message:s,validatedCustomProperties:a,validatedOpsPayload:c}):{isValidToLog:c&&h(c,"metricList")&&!(null===(o=c.metricList)||void 0===o||!o.length),message:s,validatedOpsPayload:c,validatedCustomProperties:a};case"trackWidgetOpsEvents":const e=u(n,"array")&&n.every((t=>u(t,"string")&&!ft(t)));return!1===e&&(s="The widget id list was not an array, the values were not strings, or the list was empty."),i?(a=wt(i),{isValidToLog:a&&c&&l&&e,message:s,validatedOpsPayload:c,validatedCustomProperties:a}):{isValidToLog:c&&l&&e,message:s,validatedOpsPayload:c};default:return{isValidToLog:!1,message:`Received an invalid validation method: "${t}"`}}}trackOperationalEvents(t,e,n){try{const{isValidToLog:i,message:r,validatedOpsPayload:o,validatedCustomProperties:a}=this.isValidToLog("trackOperationalEvents",t,[],e);i?this.trackCustomEvent({eventSource:kt,eventType:n||At,timestamp:Date.now(),operationalData:o,...e&&a.length>0&&{customProperties:a}}):(b("Did not receive a valid opsObject."),I({eventSource:kt,eventType:"droppedEvent",eventContext:"trackOperationalEvents",eventDetail:r,eventValue:JSON.stringify(t),operationalData:{metricList:[{metricDetails:JSON.stringify({message:r,methodName:"trackOperationalEvents",opsObject:t}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()}))}catch(t){b(t),I({eventSource:"error",eventType:"stacktrace",eventContext:"trackOperationalEvents",eventDetail:t?t.toString():"",eventValue:"1",timestamp:Date.now()})}}trackTelemetryMetrics(t){try{if(!u(t,"object"))return void I({eventSource:"error",eventType:"validation",eventContext:"trackTelemetryMetrics",eventDetail:"opsObject is not a valid object",eventValue:"1",timestamp:Date.now()});const{metricName:e,metricValue:n,metricDetails:i="",metricUnit:r="",timestamp:o=Date.now()}=t;u(e,"string")&&u(n,"number")&&this.trackCustomEvent({eventSource:"tbt",eventType:"operational",eventName:e,eventDetail:i,eventValue:null==n?void 0:n.toString(),eventContext:r,timestamp:o})}catch(t){I({eventSource:"error",eventType:"exception",eventContext:"trackTelemetryMetrics",eventDetail:t?t.toString():"",eventValue:"1",timestamp:Date.now()})}}trackDashboardExpReady(t){try{const{startTime:e=0,endTime:n=performance.now(),isPageTransition:i=!1,metricDetails:r=[]}=t,o=n-e,a=i?"timeToDashboardExpReadyOnTransition":"timeToDashboardExpReady";I(o>0?{eventSource:kt,eventType:"performance",operationalData:{metricList:[{metricName:a,metricValue:o,metricUnit:"Milliseconds",metricDetails:JSON.stringify(r)}]},timestamp:Date.now()}:{eventSource:"panoramaInternal",eventType:"metricDropped",eventContext:"trackDashboardExpReady",eventDetail:JSON.stringify({metricName:a,metricValue:o,metricDetails:r,isPageTransition:i}),eventValue:"1",timestamp:Date.now()})}catch(t){I({eventSource:"error",eventType:"exception",eventContext:"trackDashboardExpReady",eventDetail:t?t.toString():"",eventValue:"1",timestamp:Date.now()})}}getCustomerReadyTime(){try{return performance.now()}catch(t){return Date.now()-window.performance.timing.navigationStart}}emitPanoramaLatencyMetric(){try{if(window&&window.performance&&"function"==typeof window.performance.getEntriesByName){const t=performance.getEntriesByName("pano-init-started")[0];if(t){const{startTime:e}=t;I({eventSource:kt,eventType:"performance",operationalData:{metricList:[{metricName:"pano-init-started",metricValue:e,metricUnit:"Milliseconds"}]},timestamp:Date.now()})}const e=performance.getEntriesByName("pano-tracker-injected")[0];if(e){const{startTime:t}=e;I({eventSource:kt,eventType:"performance",operationalData:{metricList:[{metricName:"pano-tracker-injected",metricValue:t,metricUnit:"Milliseconds"}]},timestamp:Date.now()})}}}catch(t){I({eventSource:"panoramaInternal",eventType:"emitPanoramaLatencyMetric",eventDetail:t?t.toString():""})}}trackWidgetOpsEvents(t,e,n){try{const{isValidToLog:i,message:r,validatedOpsPayload:o,validatedCustomProperties:a}=this.isValidToLog("trackWidgetOpsEvents",t,e,n);i?this.trackCustomEvent({eventSource:kt,eventType:At,timestamp:Date.now(),operationalData:o,widgetIds:e,...n&&a&&a.length>0&&{customProperties:a}}):(b("Did not receive a valid opsObject or list of widget IDs."),I({eventSource:kt,eventType:"droppedEvent",eventContext:"trackWidgetOpsEvents",eventDetail:r,eventValue:JSON.stringify({opsObject:t,widgetIds:e}),operationalData:{metricList:[{metricDetails:JSON.stringify({message:r,methodName:"trackWidgetOpsEvents",opsObject:t,widgetIds:e}),metricName:"droppedEvent",metricValue:1}]},timestamp:Date.now()}))}catch(n){b(n),I({eventSource:"error",eventType:"stacktrace",eventContext:"trackWidgetOpsEvents",eventDetail:n?n.toString():"",eventValue:JSON.stringify({opsObject:t,widgetIds:e}),timestamp:Date.now()})}}getLatencyTime(t,e){return t&&e?e-t:t?Date.now()-t:e?e-performance.timing.navigationStart:this.getCustomerReadyTime()}trackCustomLatency(t){const{metricName:e,startTime:n,endTime:i}=t,r=this.getLatencyTime(n,i);r>0&&this.trackOperationalEvents({metricList:[{metricName:e,metricValue:Math.round(r),metricUnit:"Milliseconds"}]})}trackWidgetCustomLatency(t,e,n){const{metricName:i,startTime:r,endTime:o}=t,a=this.getLatencyTime(r,o);a>0&&this.trackWidgetOpsEvents({metricList:[{metricName:i,metricValue:Math.round(a),metricUnit:"Milliseconds"}]},e,n)}sanitizeFields(t){l(t)?this.outQueueManager.setSanitizerFunction(t):b("'sanitizeFields' did not receive a function.")}addIframeListeners(t,e){const n=document.getElementById(t);return null!==n&&!this.iframeEventListeners[t]&&(this.setupListeners(n,e),!0)}removeIframeListeners(t){const e=document.getElementById(t);return null!==e&&(this.teardownListeners(e),delete this.iframeEventListeners[t],!0)}constructor(t){if(e(o)(this,"argmap",void 0),e(o)(this,"browserFeatures",void 0),e(o)(this,"browserLanguage",void 0),e(o)(this,"browserInteractionTime",new at({timeIntervalEllapsedCallbacks:[],absoluteTimeEllapsedCallbacks:[],browserTabInactiveCallbacks:[],browserTabActiveCallbacks:[],idleTimeoutMs:3e4,checkCallbacksIntervalMs:250})),e(o)(this,"configCollectorUrl",void 0),e(o)(this,"configCookieDomain",void 0),e(o)(this,"configCookieNamePrefix",void 0),e(o)(this,"configCookiePath",void 0),e(o)(this,"configCountPreRendered",void 0),e(o)(this,"configDiscardHashTag",void 0),e(o)(this,"configDoNotTrack",void 0),e(o)(this,"configHeartBeatTimer",void 0),e(o)(this,"configMinimumVisitTime",void 0),e(o)(this,"configOptOutCookie",void 0),e(o)(this,"configReferrerUrl",void 0),e(o)(this,"configRequestMethod",void 0),e(o)(this,"configTrackerPause",void 0),e(o)(this,"core",void 0),e(o)(this,"customReferrer",void 0),e(o)(this,"debouncedScroll",void 0),e(o)(this,"disableBusinessMetrics",void 0),e(o)(this,"disableOpsMetrics",void 0),e(o)(this,"appEntitiesToDisableOpsMetrics",void 0),e(o)(this,"dnt",void 0),e(o)(this,"documentAlias",void 0),e(o)(this,"domainAlias",void 0),e(o)(this,"domainHash",""),e(o)(this,"enableViewMetrics",void 0),e(o)(this,"enableCustomMetrics",void 0),e(o)(this,"eventTypesToIgnore",["panoramaPing"]),e(o)(this,"functionName",void 0),e(o)(this,"hash",void 0),e(o)(this,"hoverEnterTime",void 0),e(o)(this,"isConsole",void 0),e(o)(this,"isCustomerReadyEmitted",void 0),e(o)(this,"lastMouseMoveTime",void 0),e(o)(this,"lastNavEventTime",Date.now()),e(o)(this,"lastConfigTitle",void 0),e(o)(this,"lastDocumentTitle",void 0),e(o)(this,"locationArray",void 0),e(o)(this,"locationHrefAlias",void 0),e(o)(this,"mutSnowplowState",void 0),e(o)(this,"namespace",void 0),e(o)(this,"navigatorAlias",void 0),e(o)(this,"outQueueManager",void 0),e(o)(this,"configuredPlugins",void 0),e(o)(this,"cookieHandler",new ke),e(o)(this,"plugins",void 0),e(o)(this,"trackMouseMoves",!1),e(o)(this,"trackerStats",{capturedEvents:0,sentEvents:0,retries:0,retriesDetails:{},droppedEvents:0,droppedEventsDetails:{},truncatedEvents:0,truncatedEventsDetails:{},userDisallowedPanoramaEvents:0,numClogCaptured:0,numClogThrottled:0,numClogSeen:0,numExceededLimit:0}),e(o)(this,"version",void 0),e(o)(this,"windowAlias",void 0),e(o)(this,"lastMouseX",void 0),e(o)(this,"lastMouseY",void 0),e(o)(this,"moveArray",[]),e(o)(this,"region",void 0),e(o)(this,"service",void 0),e(o)(this,"appEntity",void 0),e(o)(this,"modality",void 0),e(o)(this,"location",window.location.pathname+(window.location.hash||"")),e(o)(this,"elementInfo",void 0),e(o)(this,"elementInfoTarget",void 0),e(o)(this,"trackerConstants",void 0),e(o)(this,"shortbread",void 0),e(o)(this,"iframeEventListeners",{}),e(o)(this,"listeners",[]),e(o)(this,"visitorId",""),e(o)(this,"updateRegionAndService",(t=>{void 0!==t.region&&(this.region=t.region,this.core.setAWSRegion(t.region),this.core.addCommonBatchAttr("consoleRegion",t.region)),void 0!==t.service&&(this.service=t.service,this.core.setService(t.service),this.core.addCommonBatchAttr("consoleService",t.service))})),e(o)(this,"setFac",(()=>{Pi((()=>null!==document.getElementById("meta-features-json")),{onTrue:()=>{const t=document.getElementById("meta-features-json");null!==t&&this.core.addCommonPayloadAttr("facConfig",t.getAttribute("data-featuresjson")||"")}})})),e(o)(this,"getSnowplowCookieName",(t=>this.configCookieNamePrefix+t+"."+this.domainHash)),e(o)(this,"mouseHandler",(t=>{const e=(new Date).getTime();e-this.lastMouseMoveTime>250&&(Math.abs(t.clientX-this.lastMouseX)>50||Math.abs(t.clientY-this.lastMouseY)>50)&&(this.moveArray.push({x:t.clientX,y:t.clientY,timestamp:e}),this.lastMouseX=t.clientX,this.lastMouseY=t.clientY),this.lastMouseX||(this.lastMouseX=t.clientX),this.lastMouseY||(this.lastMouseY=t.clientY),this.lastMouseMoveTime=e})),e(o)(this,"hoverHandler",(t=>{const e=(new Date).getTime();let n;this.hoverEnterTime&&(n=e-this.hoverEnterTime),"mouseover"===t.type?this.hoverEnterTime=e:"mouseout"===t.type&&n&&n>3e3&&"HTML"!==t.target.tagName&&this.logHoverEvent(n,t.target),this.hoverEnterTime=e})),e(o)(this,"mousedownHandler",(t=>{this.elementInfoTarget=t.target,this.elementInfo=en(t.target)})),e(o)(this,"clickHandler",(t=>{let e;e=t.target===this.elementInfoTarget?this.elementInfo:en(t.target);const n={contentId:e.xpath,eventPath:e.analyticsPath,eventInteractionMetaData:e.eventInteractionMetaData,mouseLocation:t.pageX+","+t.pageY,pageTitle:this.documentAlias.title,widgetIds:e.widgetIds?e.widgetIds:void 0};Object.assign(n,e.analyticsData),this.core.trackPanoramaClickEvent(n)})),e(o)(this,"pageTimeHandler",(()=>{this.browserInteractionTime.startTimer();let t=0,e=0;this.browserInteractionTime.addBrowserTabInactiveCallback((()=>{t=Date.now(),this.core.trackCustomEvent({eventType:"visibilityChange",eventContext:"timeOnPage",eventDetail:window.location.pathname+(window.location.hash||""),eventValue:Math.round(this.browserInteractionTime.getTimeInMilliseconds()).toString(),timestamp:Date.now()}),this.mutSnowplowState.totalTimeActiveOnPage+=t-this.mutSnowplowState.lastActiveSessionStartTime,this.mutSnowplowState.lastActiveSessionStartTime=t})),this.browserInteractionTime.addBrowserTabActiveCallback((()=>{this.browserInteractionTime.reset(),this.browserInteractionTime.startTimer(),e=Date.now();const n=e-t;this.core.trackCustomEvent({eventType:"visibilityChange",eventContext:"timeAwayFromPage",eventDetail:window.location.pathname+(window.location.hash||""),eventValue:Math.round(n).toString(),timestamp:Date.now()}),this.mutSnowplowState.totalTimeAwayFromPage+=e-this.mutSnowplowState.lastActiveSessionStartTime,this.mutSnowplowState.lastActiveSessionStartTime=e}))})),e(o)(this,"locationHandler",(()=>{const t=window.location.pathname+(window.location.hash||"");if(this.location!==t){mt("onLocationChange",{oldLocation:this.location,newLocation:t});const e=this.location;setTimeout((()=>{this.core.trackCustomEvent({eventType:"locationChange",eventContext:"timeOnPage",eventDetail:JSON.stringify({oldLocation:e,newLocation:t}),eventValue:Math.round(this.browserInteractionTime.getTimeInMilliseconds()+1e3).toString(),timestamp:Date.now()}),this.core.trackCustomEvent({eventSource:Tt,eventType:Pt,eventContext:this.location,eventDetail:t,pageTitle:this.documentAlias.title}),this.browserInteractionTime.reset(),this.browserInteractionTime.startTimer(),this.mutSnowplowState.totalTimeActiveOnPage+=Date.now()-this.mutSnowplowState.lastActiveSessionStartTime,this.mutSnowplowState.lastActiveSessionStartTime=Date.now(),this.core.trackCustomEvent({eventSource:Tt,eventType:"pageLevelTimer",eventContext:"totalTimeActiveOnPage",eventDetail:JSON.stringify({oldLocation:e,newLocation:t}),eventValue:this.mutSnowplowState.totalTimeActiveOnPage.toString(),timestamp:Date.now()}),this.core.trackCustomEvent({eventSource:Tt,eventType:"pageLevelTimer",eventContext:"totalTimeAwayFromPage",eventDetail:JSON.stringify({oldLocation:e,newLocation:t}),eventValue:this.mutSnowplowState.totalTimeAwayFromPage.toString(),timestamp:Date.now()}),this.mutSnowplowState.totalTimeActiveOnPage=0,this.mutSnowplowState.totalTimeAwayFromPage=0}),1e3),this.lastNavEventTime=Date.now(),this.location=t,this.trackMouseMoves&&(this.core.trackCustomEvent({eventSource:Tt,eventType:"mouseMoves",eventContext:this.location,eventDetail:JSON.stringify(this.moveArray),pageTitle:this.documentAlias.title}),this.moveArray=[])}})),e(o)(this,"formElementHandler",(t=>{const e=en(t.target);this.core.trackCustomEvent(Object.assign({eventSource:Tt,eventType:t.type,contentId:e.xpath,eventPath:e.analyticsPath?e.analyticsPath:void 0,eventInteractionMetaData:e.eventInteractionMetaData,pageTitle:this.documentAlias.title},e.analyticsData))})),e(o)(this,"scrollHandler",(t=>{const e=en(t.target);let n="";t.target==document?n=this.documentAlias.title:e.xpath&&(n=e.xpath),this.core.trackPanoramaScrollEvent(Object.assign({contentId:n,eventPath:e.analyticsPath?e.analyticsPath:void 0,eventValue:String(window.scrollY?window.scrollY:window.pageYOffset),pageTitle:this.documentAlias.title,widgetIds:e.widgetIds?e.widgetIds:void 0},e.analyticsData))})),e(o)(this,"logPageView",((t,e)=>{this.refreshUrl(),this.lastDocumentTitle=this.documentAlias.title,this.lastConfigTitle=t;let n=f(this.lastConfigTitle||this.lastDocumentTitle);const i=window[this.functionName],r={pageUrlPath:Oe(this.locationHrefAlias,this.configDiscardHashTag),pageTitle:n,referrer:Oe(this.customReferrer||this.configReferrerUrl,this.configDiscardHashTag),timestamp:e};i&&i.loadTime&&(r.eventValue=Date.now()-i.loadTime),this.core.trackPageView(r);const o=window.location.pathname+(window.location.hash||""),a={...r,eventSource:Tt,eventType:Pt,eventContext:this.location||"",eventDetail:o};this.core.trackCustomEvent(a)})),e(o)(this,"setupListeners",((t,e)=>{for(let n=0;n<this.listeners.length;n++){const{defaultTarget:i,eventType:r,callback:o,useCapture:a=!1}=this.listeners[n];if(t){const n=t.id;e&&-1!==e.indexOf(r)?(y(t.contentWindow,r,o,a),this.iframeEventListeners[n]?this.iframeEventListeners[n]=[...this.iframeEventListeners[n],r]:this.iframeEventListeners[n]=[r]):e||(y(t.contentWindow,r,o,a),this.iframeEventListeners[n]?this.iframeEventListeners[n]=[...this.iframeEventListeners[n],r]:this.iframeEventListeners[n]=[r])}else y(i,r,o,a)}if(t)window.onpopstate?y(t.contentWindow,"popstate",this.locationHandler):y(t.contentWindow,"hashchange",this.locationHandler);else{window.onpopstate?y(this.windowAlias,"popstate",this.locationHandler):y(this.windowAlias,"hashchange",this.locationHandler);const t=Ie(this.locationHandler,100);y(this.windowAlias,"historyPushState-detected",t)}this.pageTimeHandler()})),e(o)(this,"logHoverEvent",((t,e)=>{const n=t<1e4?"hover":"dwell",i=en(e);this.core.trackCustomEvent(Object.assign({eventSource:Tt,eventType:n,contentId:i.xpath?i.xpath:void 0,eventPath:i.analyticsPath?i.analyticsPath:void 0,eventInteractionMetaData:i.eventInteractionMetaData,mouseLocation:`${this.lastMouseX},${this.lastMouseY}`,pageTitle:this.documentAlias.title,eventValue:String(t/1e3),widgetIds:i.widgetIds?i.widgetIds:void 0},i.analyticsData))})),e(o)(this,"emitStackTrace",((t,e,n,i,r)=>{let o=null;r&&r.stack?o=r.stack:console.trace&&(o=console.trace()),this.trackCustomEvent({eventSource:"error",eventType:"stacktrace",eventContext:t?t.toString():"",eventDetail:JSON.stringify({fileno:n,columnNumber:i,error:r,stacktrace:o}),eventValue:"1",timestamp:Date.now()})})),e(o)(this,"setOptOutCookie",(t=>{this.configOptOutCookie=t})),e(o)(this,"setBuildId",(t=>{this.core.addCommonPayloadAttr("buildId",t)})),e(o)(this,"updateCommonAttribute",((t,e,n)=>{if("service"===t||"region"===e)n&&("service"===t&&(this.outQueueManager.executeQueue(),this.service=e,this.core.addCommonBatchAttr("consoleService",e),this.outQueueManager.service=e),this.core.addCommonPayloadAttr(t,e),mt("updatedCommonAttribute",{name:t,value:e}));else{(i=e,"domain"!==t||-1!==ct.VALID_DOMAINS.indexOf(i.toLowerCase()))?(this.core.addCommonPayloadAttr(t,e),mt("updatedCommonAttribute",{name:t,value:e})):b(`'${e}' was not a valid value for '${t}', therefore it was not set.`)}var i})),e(o)(this,"readCommonAttribute",(()=>({service:this.core.getCommonPayloadAttr("service"),serviceSubSection:this.core.getCommonPayloadAttr("serviceSubSection"),serviceConsolePage:this.core.getCommonPayloadAttr("serviceConsolePage"),variant:this.core.getCommonPayloadAttr("variant")}))),e(o)(this,"readCapturedPayloadsList",(()=>this.core.readCapturedPayloadsList())),e(o)(this,"setCollectorUrl",(t=>{this.configCollectorUrl=this.asCollectorUrl(t)})),e(o)(this,"getTrackerStats",(()=>Object.assign({},this.trackerStats))),t&&Object.assign(this,t),this.trackerConstants=Object.assign(ct,this.argmap.trackerConstants||{}),h(this,"argmap","appEntity")&&(this.appEntity=this.argmap.appEntity||""),this.appEntitiesToDisableOpsMetrics=["aws-marketing"],this.disableOpsMetrics=this.appEntitiesToDisableOpsMetrics.includes(this.appEntity),this.disableBusinessMetrics=!!h(this.argmap,"trackerConstants","flags","disableBusinessMetrics")&&this.argmap.trackerConstants.flags.disableBusinessMetrics,this.enableViewMetrics=!h(this.argmap,"trackerConstants","flags","enableViewMetrics")||this.argmap.trackerConstants.flags.enableViewMetrics,this.enableCustomMetrics=!h(this.argmap,"trackerConstants","flags","enableCustomMetrics")||this.argmap.trackerConstants.flags.enableCustomMetrics,this.setupLocals(),Cr&&Cr.includes(this.region))return void console.log(`Panorama is not ready in ${this.region}`);const n=new ki({tracker:this}),i=[];if(i.push(n),!this.disableOpsMetrics){const t=new wi({tracker:this}),e=new bi({tracker:this}),n=new yr({tracker:this}),r=new wr({tracker:this}),o=new Ei({tracker:this,...this.trackerConstants.PERFORMANCE_PLUGIN_PARAMETERS}),a=new Ci({tracker:this});i.push(t,e,o,a,n,r)}if(i.forEach((t=>{this.plugins.addPlugin(t),this.trackerConstants.pluginsEnabledByDefault&&this.plugins.enablePlugin(t)})),this.configuredPlugins){let t,e=this.plugins.listPlugins();e.ConsoleParametersPlugin&&(t=e.ConsoleParametersPlugin),Object.keys(this.configuredPlugins).forEach((e=>{let i=this.configuredPlugins[e];"consoleParameters"===e&&t&&(i.enabled?this.plugins.enablePlugin(t):this.plugins.disablePlugin(t)),"context"===e&&(i.enabled?this.plugins.enablePlugin(n):this.plugins.disablePlugin(n)),"clog"===e&&(i.enabled?this.plugins.enablePlugin(clogPlugin):this.plugins.disablePlugin(clogPlugin)),"stacktrace"===e&&(i.enabled?this.plugins.enablePlugin(stacktracePlugin):this.plugins.disablePlugin(stacktracePlugin)),"performance"===e&&(i.enabled?this.plugins.enablePlugin(performancePlugin):this.plugins.disablePlugin(performancePlugin)),"cspErrorHandler"===e&&(i.enabled?this.plugins.enablePlugin(cspErrorHandlerPlugin):this.plugins.disablePlugin(cspErrorHandlerPlugin)),"webVitals"===e&&(i.enabled?this.plugins.enablePlugin(webVitalsPlugin):this.plugins.disablePlugin(webVitalsPlugin)),"consoleLatency"===e&&(i.enabled?this.plugins.enablePlugin(consoleLatencyPlugin):this.plugins.disablePlugin(consoleLatencyPlugin))}))}if(this.listeners=[{defaultTarget:this.documentAlias,eventType:"mousedown",callback:this.mousedownHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"click",callback:this.clickHandler,useCapture:!0},{defaultTarget:this.windowAlias,eventType:"scroll",callback:this.debouncedScroll,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"change",callback:this.formElementHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"mouseout",callback:this.hoverHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"mouseover",callback:this.hoverHandler,useCapture:!0},{defaultTarget:this.documentAlias,eventType:"mousemove",callback:this.mouseHandler,useCapture:!0}],h(this.argmap,"appEntity")&&"aws-signin"===this.argmap.appEntity){const t=["browserColorDepth","browserViewPortHeight","browserViewPortWidth","deviceResolutionHeight","deviceResolutionWidth","deviceTimeZone","pageTitle","serviceConsolePage","tabId"],e=["pageUrlPath","referrer","requestUri"],n=["eventContext","eventDetail"],{protocol:i,hostname:r,pathname:o}=window.location,a=`${i}//${r}${o}`;this.core.setAWSUserInfo(""),this.core.setAWSUserInfoSigned(""),this.sanitizeFields((i=>{const r=i;return t.forEach((t=>r&&delete r[t])),"view"===r.eventType&&n.forEach((t=>{r[t]=a})),e.forEach((t=>{r[t]=a})),r}))}this.disableBusinessMetrics||(this.setupListeners(),this.emitPanoramaPing()),this.trackPageView(),this.argmap.blockOutqueue||window.addEventListener("onPanoramaLoad",(t=>{let{detail:e}=t;e&&e.enabled&&this.outQueueManager.blockOutqueue&&(window.panorama("openOutqueue"),P("panoForceUnblock",1))})),Et()||I({eventSource:"panoramaInternal",eventType:"uuidFallback",eventContext:"trackCustomEvent",eventDetail:"The global crypto property is not available. Using fallback to generate UUID.",eventValue:"",timestamp:Date.now()}),window.addEventListener("pfCleanCapturedPayloadsList",(()=>{this.core.cleanCapturedPayloadsList()}))}}class Tr{applyAsyncFunction(){let t,e,n,i,r;for(let o=0;o<arguments.length;o+=1){if(e=arguments[o],n=Array.prototype.shift.call(e),l(n)){n.apply(this.trackerDictionary,e);continue}i=this.parseInputString(n);const a=i.extractedFunction,s=i.extractedNames;if("newTracker"!==a)try{for(r=this.getNamedTrackers(s),t=0;t<r.length;t++)r[t][a].apply(r[t],e)}catch(t){k("panoInqueueError",1,`Error calling ${a} on namedTrackers;`+t.stack.toString())}else h(window,"AWSC","Clog","system","prequeue")&&"function"==typeof window.AWSC.Clog.system.prequeue&&window.AWSC.Clog.system.prequeue("panoTrackerInitialized",1),this.createNewNamespace(e[0],e[1],e[2])}}constructor(t,n,i,r){e(o)(this,"trackerDictionary",void 0),e(o)(this,"push",void 0),e(o)(this,"functionName",void 0),e(o)(this,"version",void 0),e(o)(this,"mutSnowPlowState",void 0),e(o)(this,"getNamedTrackers",(t=>{var e=[];if(t&&0!==t.length)for(var n=0;n<t.length;n++)this.trackerDictionary.hasOwnProperty(t[n])?e.push(this.trackerDictionary[t[n]]):b('Warning: Tracker namespace "'+t[n]+'" not configured');else e=Object.keys(this.trackerDictionary).map((t=>this.trackerDictionary[t]));return 0===e.length&&b("Warning: No tracker configured"),e})),e(o)(this,"createNewNamespace",((t,e,n)=>{if(n=n||{},this.trackerDictionary.hasOwnProperty(t))b("Tracker namespace "+t+" already exists.");else{const i=new Sr({functionName:this.functionName,namespace:t,version:this.version,mutSnowplowState:this.mutSnowPlowState,configCollectorUrl:e||"",argmap:n});this.trackerDictionary[t]=i}})),e(o)(this,"parseInputString",(t=>{var e=t.split(":");return{extractedFunction:e[0],extractedNames:e.length>1?e[1].split(";"):[]}})),this.trackerDictionary={},this.functionName=r,this.version=t,this.mutSnowPlowState=n;for(var a=0;a<i.length;a++)this.applyAsyncFunction(i[a]);this.push=this.applyAsyncFunction}}class Ar{constructor(t,n){var i,r,a,s=this;e(o)(this,"queue",void 0),e(o)(this,"mutSnowplowState",void 0),e(o)(this,"version",void 0),e(o)(this,"beforeUnloadHandler",(function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const n=s.queue&&s.queue.trackerDictionary?s.queue.trackerDictionary:{};for(let e in n)if(n.hasOwnProperty(e)){const i=n[e],r=i.getTrackerStats();h(i,"outQueueManager","blockOutqueue")&&i.outQueueManager.blockOutqueue&&P("panoQueueBlocked",1);for(let t in r)-1===["sentEvents","capturedEvents","numClogCaptured","numClogThrottled","numClogSeen","numExceededLimit"].indexOf(t)&&r.hasOwnProperty(t)&&-1===t.indexOf("Details")&&r[t]>0&&("userDisallowedPanoramaEvents"===t?i.trackOperationalEvents({metricList:[{metricName:"userDisallowedPanoramaEvents",metricValue:r[t],metricDetails:""}]}):i.trackCustomEvent({eventSource:"panoramaInternal",eventType:t,eventContext:"",eventDetail:JSON.stringify(r[`${t}Details`]),eventValue:r[t],timestamp:Date.now()}));const{sentEvents:o,capturedEvents:a,retries:c,droppedEvents:l,numClogCaptured:u,numClogSeen:d,numClogThrottled:m,userDisallowedPanoramaEvents:f,numExceededLimit:p}=r;p>0&&P("panoKFLimitExceeded",p);const g=h(window,"AWSC","Clog","bufferedQueue")?window.AWSC.Clog.bufferedQueue.length:0;i.trackCustomEvent({eventSource:"panoramaInternal",eventType:"completedEvents",eventDetail:JSON.stringify({sentEvents:o+g,capturedEvents:a+g,retries:c,droppedEvents:l,numClogCaptured:u+g,numClogSeen:d+g,numClogThrottled:m,userDisallowedPanoramaEvents:f,numExceededLimit:p}),eventValue:(o/a).toFixed(2),timestamp:Date.now()}),t&&(i.trackCustomEvent({eventSource:"panorama",eventType:"pageLevelTimer",eventContext:"totalTimeActiveOnPage",eventValue:s.mutSnowplowState.totalTimeActiveOnPage.toString(),timestamp:Date.now()}),i.trackCustomEvent({eventSource:"panorama",eventType:"pageLevelTimer",eventContext:"totalTimeAwayFromPage",eventValue:s.mutSnowplowState.totalTimeAwayFromPage.toString(),timestamp:Date.now()}))}if(s.mutSnowplowState.bufferFlushers.forEach((t=>{t()})),s.mutSnowplowState.expireDateTime)do{if(e=new Date,0===s.mutSnowplowState.outQueues.filter((function(t){return t.length>0})).length)break}while(e.getTime()<s.mutSnowplowState.expireDateTime)})),e(o)(this,"loadHandler",(()=>{var t;if(!this.mutSnowplowState.hasLoaded)for(this.mutSnowplowState.hasLoaded=!0,t=0;t<this.mutSnowplowState.registeredOnLoadHandlers.length;t++)this.mutSnowplowState.registeredOnLoadHandlers[t]();return!0})),e(o)(this,"pageHideVisiblityHiddenHandler",(function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(window,"panorama","q","trackerDictionary","cf","plugins","getPlugin")&&"function"==typeof window.panorama.q.trackerDictionary.cf.plugins.getPlugin&&window.panorama.q.trackerDictionary.cf.plugins.getPlugin("ClogPlugin")&&window.panorama.q.trackerDictionary.cf.plugins.getPlugin("ClogPlugin").emitBufferedEvents(),s.beforeUnloadHandler(t)})),e(o)(this,"addReadyListener",(()=>{let t;const e=this.loadHandler,n=this.pageHideVisiblityHiddenHandler,i=document,r=window,o=this.mutSnowplowState;i.addEventListener?y(i,"DOMContentLoaded",(function t(){i.removeEventListener("DOMContentLoaded",t,!1),e()})):i.attachEvent&&(i.attachEvent("onreadystatechange",(function t(){"complete"===i.readyState&&(i.detachEvent("onreadystatechange",t),e())})),i.documentElement.doScroll&&r===r.top&&function t(){if(!o.hasLoaded){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),new RegExp("WebKit").test(navigator.userAgent)&&(t=setInterval((()=>{(this.mutSnowplowState.hasLoaded||/loaded|complete/.test(i.readyState))&&(clearInterval(t),e())}),10)),y(r,"load",e,!1),y(r,"pagehide",(()=>{this.mutSnowplowState.totalTimeActiveOnPage+=Date.now()-this.mutSnowplowState.lastActiveSessionStartTime,this.mutSnowplowState.lastActiveSessionStartTime=Date.now(),n(!0)}),!0)})),this.version="2.8.127",this.mutSnowplowState={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:(null===(i=window)||void 0===i||null===(r=i.AWSC)||void 0===r||null===(a=r.Clog)||void 0===a?void 0:a.tabId)||Ct(),totalTimeActiveOnPage:0,totalTimeAwayFromPage:0,lastActiveSessionStartTime:Date.now()},document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.pageHideVisiblityHiddenHandler(!1)})),this.addReadyListener(),this.queue=new Tr(this.version,this.mutSnowplowState,t,n)}}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0});const kr=window;try{kr&&kr.performance&&"function"==typeof kr.performance.mark&&(kr.performance.mark("pano-tracker-exec-started",{detail:"AWSCPanorama"}),I({eventSource:kt,eventType:"performance",operationalData:{metricList:[{metricName:"pano-tracker-exec-started",metricValue:performance.now(),metricUnit:"Milliseconds"}]},timestamp:Date.now()}))}catch(t){k("panoLatencyMetricError",1,t.toString())}try{if(kr.GlobalSnowplowNamespace&&kr.GlobalSnowplowNamespace.length>0){const t=kr.GlobalSnowplowNamespace.shift(),e=kr[t],n=new Ar(e.q,t);e.q=n.queue}else{kr._snaq=kr._snaq||[];const t=new Ar(kr._snaq,"_snaq");kr._snaq=t.queue}}catch(t){k("panoGenericError",1,t.toString())}try{kr&&kr.performance&&"function"==typeof kr.performance.mark&&(kr.performance.mark("pano-tracker-exec-completed",{detail:"AWSCPanorama"}),I({eventSource:kt,eventType:"performance",operationalData:{metricList:[{metricName:"pano-tracker-exec-completed",metricValue:performance.now(),metricUnit:"Milliseconds"}]},timestamp:Date.now()}))}catch(t){k("panoLatencyMetricError",1,t.toString())}})();