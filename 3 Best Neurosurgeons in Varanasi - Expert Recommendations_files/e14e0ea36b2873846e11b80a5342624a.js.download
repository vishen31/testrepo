(function(){'use strict';/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var h=this||self;function l(a,b){a:{var c=["CLOSURE_FLAGS"];for(var d=h,e=0;e<c.length;e++)if(d=d[c[e]],d==null){c=null;break a}c=d}a=c&&c[a];return a!=null?a:b}function m(a,b){a=a.split(".");var c=h;a[0]in c||typeof c.execScript=="undefined"||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||b===void 0?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var r=l(610401301,!1),aa=l(188588736,l(1,!0));var t;const u=h.navigator;t=u?u.userAgentData||null:null;function w(a){return r?t?t.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1:!1}function x(a){var b;a:{if(b=h.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function y(){return r?!!t&&t.brands.length>0:!1}function z(){return y()?w("Chromium"):(x("Chrome")||x("CriOS"))&&!(y()?0:x("Edge"))||x("Silk")};!x("Android")||z();z();x("Safari")&&(z()||(y()?0:x("Coast"))||(y()?0:x("Opera"))||(y()?0:x("Edge"))||(y()?w("Microsoft Edge"):x("Edg/"))||y()&&w("Opera"));var A=Symbol(),B=Symbol();var C=(a,b)=>{a[A]=b;return a};function ba(a,b){C(b,(a|0)&-14591)}function D(a,b){C(b,(a|34)&-14557)}function F(a){a=a>>14&1023;return a===0?536870912:a};var G={},ca={};function H(a){return!(!a||typeof a!=="object"||a.g!==ca)}function I(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function J(a,b,c){if(!Array.isArray(a)||a.length)return!1;const d=a[A]|0;if(d&1)return!0;if(!(b&&(Array.isArray(b)?b.includes(c):b.has(c))))return!1;C(a,d|1);return!0}class da{}class K{}Object.freeze(new da);Object.freeze(new K);Object.freeze(new K);let L;function M(a,b){L=b;a=new a(b);L=void 0;return a};function ea(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a)if(Array.isArray(a)){if(J(a,void 0,0))return}else if(a!=null&&a instanceof Uint8Array){let b="",c=0;const d=a.length-10240;for(;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);return btoa(b)}}return a};function fa(a,b,c){a=Array.prototype.slice.call(a);var d=a.length;const e=b&256?a[d-1]:void 0;d+=e?-1:0;for(b=b&512?1:0;b<d;b++)a[b]=c(a[b]);if(e){b=a[b]={};for(const f in e)b[f]=c(e[f])}return a}function N(a,b,c,d,e){if(a!=null){if(Array.isArray(a))a=J(a,void 0,0)?void 0:e&&(a[A]|0)&2?a:P(a,b,c,d!==void 0,e);else if(I(a)){const f={};for(let g in a)f[g]=N(a[g],b,c,d,e);a=f}else a=b(a,d);return a}}
function P(a,b,c,d,e){const f=d||c?a[A]|0:0;d=d?!!(f&32):void 0;a=Array.prototype.slice.call(a);for(let g=0;g<a.length;g++)a[g]=N(a[g],b,c,d,e);c&&c(f,a);return a}function ha(a){return a.s===G?a.toJSON():ea(a)};function Q(a,b,c=D){if(a!=null){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=a[A]|0;d&2||(b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16))),a=b?C(a,(d|34)&-12293):P(a,Q,d&4?D:c,!0,!0));return a}a.s===G&&(c=a.l,d=c[A],a=d&2?a:M(a.constructor,R(c,d,!0)));return a}}function R(a,b,c){const d=c||b&2?D:ba,e=!!(b&32);a=fa(a,b,f=>Q(f,e,d));a[A]=a[A]|32|(c?2:0);return a};function S(a,b,c){a=a.l;let d=a[A];if(d&2)throw Error();if(c===-1)var e=null;else if(e=F(d),c>=e)e=d&256?a[a.length-1][c]:void 0;else{var f=c+(+!!(d&512)-1);e=f<0||f>=a.length||f>=e?void 0:a[f]}if(e!=null&&typeof e==="object"&&e.s===G)b=e;else if(Array.isArray(e)){var g=f=e[A]|0;g===0&&(g|=d&32);g|=d&2;g!==f&&C(e,g);b=new b(e)}else d&2?(f=b[B])?b=f:(f=new b,g=f.l,g[A]|=34,b=b[B]=f):b=new b;f=b.l;g=f[A];b=g&2?M(b.constructor,R(f,g,!1)):b;if(e!==b)a:if(e=F(d),c>=e){g=d;if(d&256)f=a[a.length-1];else{if(b==
null)break a;f=a[e+(+!!(d&512)-1)]={};g|=256}f[c]=b;c<e&&(a[c+(+!!(d&512)-1)]=void 0);g!==d&&C(a,g)}else a[c+(+!!(d&512)-1)]=b,d&256&&(a=a[a.length-1],c in a&&delete a[c]);return b};let T;var V=class{constructor(a){a:{a==null&&(a=L);L=void 0;if(a==null){var b=96;a=[]}else{if(!Array.isArray(a))throw Error("narr");b=a[A]|0;if(b&2048)throw Error("farr");if(b&64)break a;var c=a;b|=64;var d=c.length;if(d&&(--d,I(c[d]))){b|=256;c=d-(+!!(b&512)-1);if(c>=1024)throw Error("pvtlmt");b=b&-16760833|(c&1023)<<14}}C(a,b)}this.l=a}toJSON(){return U(this)}};V.prototype.s=G;V.prototype.toString=function(){try{return T=!0,U(this).toString()}finally{T=!1}};
function U(a){var b=T?a.l:P(a.l,ha,void 0,void 0,!1);var c=!T;var d=aa?void 0:a.constructor.o;var e=(c?a.l:b)[A];if(a=b.length){var f=b[a-1],g=I(f);g?a--:f=void 0;e=+!!(e&512)-1;var v=b;if(g){b:{var p=f;var n={};g=!1;if(p)for(var k in p){if(isNaN(+k)){n[k]=p[k];continue}let q=p[k];Array.isArray(q)&&(J(q,d,+k)||H(q)&&q.size===0)&&(q=null);q==null&&(g=!0);q!=null&&(n[k]=q)}if(g){for(var E in n)break b;n=null}else n=p}p=n==null?f!=null:n!==f}for(var O;a>0;a--){E=a-1;k=v[E];E-=e;if(!(k==null||J(k,d,E)||
H(k)&&k.size===0))break;O=!0}if(v!==b||p||O){if(!c)v=Array.prototype.slice.call(v,0,a);else if(O||p||n)v.length=a;n&&v.push(n)}b=v}return b};function ia(a){return b=>{if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("dnarr");b[A]|=32;b=M(a,b)}return b}};var ja=class extends V{};ja.o=[17];var ka=class extends V{};ka.o=[76,27];var la=class extends V{};la.o=[8];var ma=ia(class extends V{});var na=class extends V{},oa=ia(na);na.o=[1,2,3];function W(a,b){a=a.getElementsByTagName("META");for(let c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function X(a,b){a.body.dispatchEvent(new CustomEvent(b,{detail:void 0}))}
var pa=class{constructor(a){this.body=a;this.g=[];W(a,"sampling_mod");var b=W(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var c=a.getElementsByTagName("META");for(let d=0;d<c.length;++d)if(c[d].getAttribute("name")==="namespace"&&c[d].getAttribute("index")===(0).toString()){c[d].setAttribute("content",b);break a}c=a.querySelector("#mys-meta");c||(c=document.createElement("div"),c.id="mys-meta",c.style.position="absolute",c.style.display="none",a.appendChild(c));a=document.createElement("META");
a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());c.appendChild(a)}}if(!(this.g.length>0)){a=W(this.body,"environment");for(const d of a.split("|"))d&&this.g.push(d)}}addEventListener(a,b){this.body.addEventListener(a,b)}};function qa(a){if(a.i.offsetWidth<=1||a.i.offsetHeight<=1)return!1;a.g.remove();X(a.context,"spanReady");return!0}
var ra=class{constructor(a){this.context=a;this.config={B:!1,A:100};this.i=document.createElement("span");this.g=document.createElement("div");this.i.style.fontSize="6px";this.i.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.i)}wait(){if(!this.config.B&&(X(this.context,"spanStart"),this.context.body.appendChild(this.g),
!qa(this)))return new Promise(a=>{const b=setInterval(()=>{qa(this)&&(clearInterval(b),a())},this.config.A)})}};var sa=class{constructor(a,b){this.context=a;this.config=b;this.g=S(b,ka,1);S(b,la,12);S(this.g,ja,10)}};function ta(a){a.m.length=0;a.i=!0}function ua(a,b){a.g=!0;const c=()=>{a.i=!1;const d=a.m.shift();return d===void 0?(a.g=!1,Promise.resolve()):ua(a,d())};return b?b.then(c,()=>{if(a.i)return c();a.g=!1;return Promise.reject()}):c()}function va(a,b){for(const c of b)a.m.push(c);if(!a.g)return ua(a)}var wa=class{constructor(){this.i=this.g=!1;this.m=[]}};function xa(a){ta(a.m);return va(a.m,[()=>{if(!a.u){var b=W(a.context.body,"render_config")||"[]";b=ma(b);b=new sa(a.context,b);a.u=b}b=(new ra(a.context)).wait();X(a.context,"browserStart");X(a.context,"browserStartEnd");a.g&=-31;a.g|=2;return b},()=>{X(a.context,"browserReady");X(a.context,"browserReadyEnd");a.g|=4;X(a.context,"overallReady")},()=>{X(a.context,"browserQuiet");X(a.context,"browserQuietEnd");a.g|=8}])}
function ya(a){oa(W(a.context.body,"engine_msg")||"[]");return xa(a)||Promise.resolve()}var Y=class{constructor(a,b){this.m=new wa;this.g=0;this.context=new pa(b)}v(){return this.g}i(){this.g&=-31;this.g|=1;let a=0;const b=this.context.body;b.addEventListener("browserRender",()=>{++a;if(a===1)X(this.context,"overallStart"),ya(this).then(()=>{X(this.context,"overallQuiet")});else{var c=b.clientHeight;b.clientWidth&&c&&ya(this)}})}};let Z;m("mys.engine.init",(a,b)=>{Z=new Y(a,b);Z.i()});m("mys.engine.stage",()=>{let a;return((a=Z)==null?void 0:a.g)||0});m("mys.Engine",Y);m("mys.Engine.prototype.i",Y.prototype.i);m("mys.Engine.prototype.s",Y.prototype.v);}).call(this);
